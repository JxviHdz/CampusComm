{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hernandez\\\\Documents\\\\DOCUMENTOS UNIVERSIDAD\\\\INGENIERIA DE SOFTWARE\\\\CampusComm\\\\src\\\\hfRegion\\\\Header.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { AppBar, Avatar, Badge, Button, fade, Grid, IconButton, InputBase, ListItemIcon, Toolbar, Tooltip, Typography } from \"@material-ui/core\";\nimport AccountCircleTwoToneIcon from '@material-ui/icons/AccountCircleTwoTone';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeIcon from '@material-ui/icons/Home';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport firebase, { auth } from \"../firebase\";\nimport { useHistory } from \"react-router-dom\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport HideOnScroll from \"./HideOnScroll\";\nimport KeyboardArrowUp from \"@material-ui/icons/KeyboardArrowUp\";\nimport Forum from \"@material-ui/icons/Forum\";\nimport BackToTop from \"./BackToTop\";\nimport Fab from \"@material-ui/core/Fab\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport { ExitToApp, Favorite } from \"@material-ui/icons\";\nimport { useCollectionData, useDocumentData } from \"react-firebase-hooks/firestore\";\nimport AccountCircleTwoTone from '@material-ui/icons/AccountCircleTwoTone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst profilePictureSize = \"35px\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  circle: {\n    borderRadius: \"50%\",\n    height: \"35px\",\n    width: \"35px\",\n    overflow: \"hidden\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  link: {},\n  search: {\n    flexGrow: 1,\n    maxWidth: \"75%\",\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto'\n    },\n    width: '100%'\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  homeIcon: {\n    flex: 1,\n    justifyContent: \"flex-start\"\n  },\n  profileIcon: {\n    margin: 0,\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%'\n  },\n  chat: {\n    color: \"white\"\n  },\n  profile: {\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  listIcon: {\n    minWidth: '40px'\n  },\n  menuBadge: {\n    borderRadius: \"6px\",\n    height: \"12px\",\n    minWidth: \"12px\",\n    fontSize: \"5px\"\n  }\n}));\nconst firestore = firebase.firestore();\n\nconst Header = ({\n  theme\n}) => {\n  _s();\n\n  const [user] = useAuthState(auth);\n  const classes = useStyles();\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  let userID = null;\n\n  if (user != null) {\n    userID = user.uid;\n  }\n\n  const unseenMessagesRef = firestore.collection('users/' + userID + \"/chats\").where('seen', \"==\", \"false\");\n  var [unseenMessages, loadingMes] = useCollectionData(unseenMessagesRef);\n  const buyReqsRef = firestore.collection('listings/').where('seller', \"==\", userID);\n  var [buyReqs, loadingBuyReqs] = useCollectionData(buyReqsRef); // const [nBuyReqs, setNBuyReqs] = useState(0)\n\n  let nBuyReqs = 0;\n\n  if (!loadingBuyReqs) {\n    buyReqs.forEach(lis => {\n      if (lis.interestedUsers !== \"\") nBuyReqs += lis.interestedUsers.split(\",\").length;\n    });\n  }\n\n  let userDocRef = null;\n\n  if (user) {\n    userID = user.uid;\n    const usersRef = firestore.collection(\"users\");\n    userDocRef = usersRef.doc(userID);\n  }\n\n  const [userDoc, loadingUserDoc] = useDocumentData(userDocRef);\n\n  const updateDarkModePreference = () => {\n    if (user && userDoc !== undefined) firestore.collection(\"users\").doc(userID).update({\n      darkModeEnable: !userDoc.darkModeEnable\n    });\n  };\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClick = pageURL => {\n    history.push(pageURL);\n    setAnchorEl(null);\n  };\n\n  const onChange = event => {\n    history.push(`/search=${event.target.value}`);\n\n    if (event.target.value === \"\") {\n      history.push(\"./\");\n    }\n  };\n\n  const onKeyPress = event => {\n    if (event.key === 'Enter') {\n      history.push(`/search=${event.target.value}`);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(HideOnScroll, {\n      children: /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"fixed\",\n        elevation: 0,\n        color: \"primary\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 0,\n            alignItems: \"center\",\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 1,\n              sm: 1,\n              container: true,\n              diaply: \"flex\",\n              alignItems: \"flex-start\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Home\",\n                \"aria-label\": \"Home\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"Go to profile\",\n                  onClick: () => {\n                    history.push(\"/\");\n                  },\n                  children: /*#__PURE__*/_jsxDEV(HomeIcon, {\n                    style: {\n                      fill: \"white\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 7,\n              sm: 10,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.search,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: classes.searchIcon,\n                    children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n                    fullWidth: true,\n                    placeholder: \"Searc\",\n                    classes: {\n                      root: classes.inputRoot,\n                      input: classes.inputInput\n                    },\n                    style: {\n                      justifyContent: \"center\",\n                      alignItems: \"center\"\n                    },\n                    inputProps: {\n                      'aria-label': 'search'\n                    },\n                    onKeyPress: onKeyPress,\n                    onChange: onChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              sm: 1,\n              children: [user ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"flex-end\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"Chats\",\n                  \"aria-label\": \"Chats\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    className: classes.chat,\n                    onClick: () => {\n                      history.push(\"/chat\");\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Badge, {\n                      badgeContent: !loadingMes && unseenMessages ? unseenMessages.length : 0,\n                      color: \"secondary\",\n                      children: /*#__PURE__*/_jsxDEV(Forum, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"Profile\",\n                  \"aria-label\": \"Profile\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    onClick: handleMenu,\n                    className: classes.profile,\n                    children: [/*#__PURE__*/_jsxDEV(Badge, {\n                      badgeContent: !loadingBuyReqs ? nBuyReqs : 0,\n                      color: \"secondary\",\n                      children: /*#__PURE__*/_jsxDEV(Avatar, {\n                        alt: \"Profile Image\",\n                        src: userDoc && userDoc.profilePicture,\n                        style: {\n                          backgroundColor: theme.palette.secondary.main\n                        },\n                        children: user.displayName ? user.displayName.charAt(0).toUpperCase() : user.email.charAt(0).toUpperCase()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(ArrowDropDownIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  color: \"white\",\n                  display: \"flex\",\n                  justifyContent: \"flex-end\"\n                },\n                onClick: () => {\n                  history.push(\"/menu\");\n                },\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                id: \"menu-appbar\",\n                anchorEl: anchorEl,\n                anchorOrigin: {\n                  vertical: 'top',\n                  horizontal: 'right'\n                },\n                keepMounted: true,\n                transformOrigin: {\n                  vertical: 'top',\n                  horizontal: 'right'\n                },\n                open: open,\n                onClose: () => {\n                  setAnchorEl(null);\n                },\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => handleMenuClick(\"/Profile\"),\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    className: classes.listIcon,\n                    children: /*#__PURE__*/_jsxDEV(Badge, {\n                      color: \"secondary\",\n                      variant: !loadingBuyReqs && nBuyReqs !== 0 ? \"dot\" : \"\",\n                      children: /*#__PURE__*/_jsxDEV(AccountCircleTwoToneIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 298,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 41\n                  }, this), \"Profile\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => handleMenuClick(\"/Favourites\"),\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    className: classes.listIcon,\n                    children: /*#__PURE__*/_jsxDEV(Favorite, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 41\n                  }, this), \"Favourites\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => updateDarkModePreference(),\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    className: classes.listIcon,\n                    children: theme.palette.type === \"dark\" ? /*#__PURE__*/_jsxDEV(Brightness7Icon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 78\n                    }, this) : /*#__PURE__*/_jsxDEV(Brightness4Icon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 99\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    children: (theme.palette.type === \"dark\" ? \"Disable\" : \"Enable\") + \" Dark Mode\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => handleMenuClick(\"/EditProfile\"),\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    className: classes.listIcon,\n                    children: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 41\n                  }, this), \"Edit profile\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => {\n                    user ? handleMenuClick(\"/signout\") : handleMenuClick(\"/menu\");\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                    className: classes.listIcon,\n                    children: /*#__PURE__*/_jsxDEV(ExitToApp, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 41\n                  }, this), user ? \"Sign Out\" : \"Sign In\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      id: \"back-to-top-anchor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BackToTop, {\n      children: /*#__PURE__*/_jsxDEV(Fab, {\n        color: \"secondary\",\n        size: \"large\",\n        \"aria-label\": \"scroll back to top\",\n        children: /*#__PURE__*/_jsxDEV(KeyboardArrowUp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Header, \"r1cXEaLRvhjVb1N/8cmgnc116EQ=\", false, function () {\n  return [useAuthState, useStyles, useHistory, useCollectionData, useCollectionData, useDocumentData];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/Hernandez/Documents/DOCUMENTOS UNIVERSIDAD/INGENIERIA DE SOFTWARE/CampusComm/src/hfRegion/Header.jsx"],"names":["React","useState","AppBar","Avatar","Badge","Button","fade","Grid","IconButton","InputBase","ListItemIcon","Toolbar","Tooltip","Typography","AccountCircleTwoToneIcon","SettingsIcon","HomeIcon","SearchIcon","makeStyles","useAuthState","firebase","auth","useHistory","MenuItem","Menu","HideOnScroll","KeyboardArrowUp","Forum","BackToTop","Fab","ArrowDropDownIcon","Brightness7Icon","Brightness4Icon","ExitToApp","Favorite","useCollectionData","useDocumentData","AccountCircleTwoTone","profilePictureSize","useStyles","theme","root","flexGrow","circle","borderRadius","height","width","overflow","justifyContent","alignItems","link","search","maxWidth","position","shape","backgroundColor","palette","common","white","breakpoints","up","marginLeft","spacing","searchIcon","padding","pointerEvents","display","homeIcon","flex","profileIcon","margin","top","left","transform","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","chat","profile","listIcon","minWidth","menuBadge","fontSize","firestore","Header","user","classes","history","anchorEl","setAnchorEl","open","Boolean","userID","uid","unseenMessagesRef","collection","where","unseenMessages","loadingMes","buyReqsRef","buyReqs","loadingBuyReqs","nBuyReqs","forEach","lis","interestedUsers","split","length","userDocRef","usersRef","doc","userDoc","loadingUserDoc","updateDarkModePreference","undefined","update","darkModeEnable","handleMenu","event","currentTarget","handleMenuClick","pageURL","push","onChange","target","value","onKeyPress","key","fill","input","profilePicture","secondary","main","displayName","charAt","toUpperCase","email","vertical","horizontal","type"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {\n    AppBar,\n    Avatar,\n    Badge,\n    Button,\n    fade,\n    Grid,\n    IconButton,\n    InputBase,\n    ListItemIcon,\n    Toolbar,\n    Tooltip,\n    Typography\n} from \"@material-ui/core\";\nimport AccountCircleTwoToneIcon from '@material-ui/icons/AccountCircleTwoTone';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeIcon from '@material-ui/icons/Home';\nimport SearchIcon from '@material-ui/icons/Search';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useAuthState} from \"react-firebase-hooks/auth\";\nimport firebase, {auth} from \"../firebase\";\nimport {useHistory} from \"react-router-dom\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport HideOnScroll from \"./HideOnScroll\";\nimport KeyboardArrowUp from \"@material-ui/icons/KeyboardArrowUp\";\nimport Forum from \"@material-ui/icons/Forum\";\nimport BackToTop from \"./BackToTop\";\nimport Fab from \"@material-ui/core/Fab\";\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport {ExitToApp, Favorite} from \"@material-ui/icons\";\nimport {useCollectionData, useDocumentData} from \"react-firebase-hooks/firestore\";\nimport AccountCircleTwoTone from '@material-ui/icons/AccountCircleTwoTone';\n\n\nconst profilePictureSize = \"35px\"\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    circle: {\n        borderRadius: \"50%\",\n        height: \"35px\",\n        width: \"35px\",\n        overflow: \"hidden\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    link: {},\n    search: {\n        flexGrow: 1,\n        maxWidth: \"75%\",\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(3),\n            width: 'auto',\n        },\n        width: '100%',\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    homeIcon: {\n        flex: 1,\n        justifyContent: \"flex-start\"\n    },\n    profileIcon: {\n        margin: 0,\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        // vertical padding + font size from searchIcon\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n    },\n    chat: {\n        color: \"white\",\n    },\n    profile: {\n        \"&:hover\": {\n            backgroundColor: \"transparent\"\n        }\n    },\n    listIcon: {\n        minWidth: '40px',\n    },\n    menuBadge: {\n        borderRadius: \"6px\",\n        height: \"12px\",\n        minWidth: \"12px\",\n        fontSize: \"5px\",\n    },\n}));\n\nconst firestore = firebase.firestore();\n\nconst Header = ({theme}) => {\n    const [user] = useAuthState(auth);\n    const classes = useStyles();\n    const history = useHistory();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n\n    let userID = null;\n\n    if (user != null) {\n        userID = user.uid;\n    }\n\n    const unseenMessagesRef = firestore.collection('users/' + userID + \"/chats\").where('seen', \"==\", \"false\");\n    var [unseenMessages, loadingMes] = useCollectionData(unseenMessagesRef);\n\n    const buyReqsRef = firestore.collection('listings/').where('seller', \"==\", userID);\n    var [buyReqs, loadingBuyReqs] = useCollectionData(buyReqsRef);\n    // const [nBuyReqs, setNBuyReqs] = useState(0)\n    let nBuyReqs = 0\n\n\n    if (!loadingBuyReqs) {\n        buyReqs.forEach(lis => {\n            if (lis.interestedUsers !== \"\") nBuyReqs += lis.interestedUsers.split(\",\").length\n        })\n    }\n\n    let userDocRef = null;\n    if (user) {\n        userID = user.uid;\n        const usersRef = firestore.collection(\"users\");\n        userDocRef = usersRef.doc(userID)\n    }\n\n    const [userDoc, loadingUserDoc] = useDocumentData(userDocRef);\n\n\n    const updateDarkModePreference = () => {\n        if (user && userDoc !== undefined) firestore.collection(\"users\").doc(userID).update({\n            darkModeEnable: !userDoc.darkModeEnable,\n        })\n    }\n\n    const handleMenu = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleMenuClick = (pageURL) => {\n        history.push(pageURL)\n        setAnchorEl(null)\n    };\n\n    const onChange = (event) => {\n        history.push(`/search=${event.target.value}`)\n        if (event.target.value === \"\") {\n            history.push(\"./\")\n        }\n    };\n\n    const onKeyPress = (event) => {\n        if (event.key === 'Enter') {\n            history.push(`/search=${event.target.value}`)\n        }\n    }\n\n    return (\n        <div className={classes.root}>\n            <HideOnScroll>\n                <AppBar position=\"fixed\" elevation={0} color=\"primary\">\n                    <Toolbar>\n                        <Grid\n                            container\n                            spacing={0}\n                            alignItems=\"center\"\n                            align=\"center\"\n                        >\n                            <Grid item xs={1} sm={1}\n                                  container\n                                  diaply=\"flex\"\n                                  alignItems=\"flex-start\">\n                                <Tooltip title=\"Home\" aria-label=\"Home\">\n                                    <IconButton aria-label=\"Go to profile\" onClick={() => {\n                                        history.push(\"/\")\n                                    }}>\n                                        <HomeIcon style={{fill: \"white\"}}/>\n                                    </IconButton>\n                                </Tooltip>\n                            </Grid>\n\n                            <Grid item xs={7} sm={10}>\n                                <div>\n                                    <div className={classes.search}>\n                                        <div className={classes.searchIcon}>\n                                            <SearchIcon/>\n                                        </div>\n                                        <InputBase\n                                            fullWidth={true}\n                                            placeholder=\"Searc\"\n                                            classes={{\n                                                root: classes.inputRoot,\n                                                input: classes.inputInput,\n                                            }}\n                                            style={{\n                                                justifyContent: \"center\",\n                                                alignItems: \"center\",\n                                            }}\n\n                                            inputProps={{'aria-label': 'search'}}\n                                            onKeyPress={onKeyPress}\n                                            onChange={onChange}\n                                        />\n                                    </div>\n                                </div>\n\n                            </Grid>\n\n                            <Grid item xs={4} sm={1}>\n                                {user ? (\n                                        <div style={{display: \"flex\", alignItems: \"center\", justifyContent: \"flex-end\"}}>\n                                            <Tooltip title=\"Chats\" aria-label=\"Chats\">\n                                                <IconButton className={classes.chat}\n                                                            onClick={() => {\n                                                                history.push(\"/chat\")\n                                                            }}\n                                                >\n                                                    <Badge badgeContent={!loadingMes && unseenMessages ? unseenMessages.length : 0}\n                                                           color=\"secondary\">\n                                                        <Forum/>\n                                                    </Badge>\n                                                </IconButton>\n                                            </Tooltip>\n                                            <Tooltip title=\"Profile\" aria-label=\"Profile\">\n                                                <IconButton onClick={\n                                                    handleMenu\n                                                }\n                                                            className={classes.profile}\n                                                >\n                                                    <Badge badgeContent={!loadingBuyReqs ? nBuyReqs : 0}\n                                                           color=\"secondary\">\n                                                    <Avatar alt=\"Profile Image\" src={userDoc && userDoc.profilePicture}\n                                                            style={{backgroundColor: theme.palette.secondary.main}}>\n                                                        {user.displayName ? user.displayName.charAt(0).toUpperCase() : user.email.charAt(0).toUpperCase()}\n                                                    </Avatar>\n                                                    </Badge>\n                                                    <ArrowDropDownIcon/>\n                                                </IconButton>\n                                            </Tooltip>\n                                        </div>\n                                    )\n                                    : (\n                                        <Button style={{color: \"white\", display: \"flex\", justifyContent: \"flex-end\"}}\n                                                onClick={() => {\n                                                    history.push(\"/menu\")\n                                                }}>Sign in</Button>\n                                    )}\n                                <Menu\n                                    id=\"menu-appbar\"\n                                    anchorEl={anchorEl}\n                                    anchorOrigin={{\n                                        vertical: 'top',\n                                        horizontal: 'right',\n                                    }}\n                                    keepMounted\n                                    transformOrigin={{\n                                        vertical: 'top',\n                                        horizontal: 'right',\n                                    }}\n                                    open={open}\n                                    onClose={() => {\n                                        setAnchorEl(null)\n                                    }}\n                                >\n                                    <MenuItem onClick={() => handleMenuClick(\"/Profile\")}>\n                                        <ListItemIcon className={classes.listIcon}>\n                                            <Badge  color=\"secondary\"\n                                                    variant={!loadingBuyReqs && nBuyReqs !== 0 ? \"dot\" : \"\"}\n                                            >\n                                            <AccountCircleTwoToneIcon/>\n                                            </Badge>\n                                        </ListItemIcon>\n                                        Profile\n                                    </MenuItem>\n                                    <MenuItem onClick={() => handleMenuClick(\"/Favourites\")}>\n                                        <ListItemIcon className={classes.listIcon}>\n                                            <Favorite/>\n                                        </ListItemIcon>\n                                        Favourites\n                                    </MenuItem>\n                                    <MenuItem onClick={() => updateDarkModePreference()}>\n                                        <ListItemIcon className={classes.listIcon}>\n                                            {theme.palette.type === \"dark\" ? <Brightness7Icon/> : <Brightness4Icon/>}\n                                        </ListItemIcon>\n                                        <Typography>\n                                            {(theme.palette.type === \"dark\" ? \"Disable\" : \"Enable\") + \" Dark Mode\"}\n                                        </Typography>\n                                    </MenuItem>\n                                    <MenuItem onClick = {() => handleMenuClick(\"/EditProfile\")}>\n                                        <ListItemIcon className={classes.listIcon}>\n                                            <SettingsIcon/>\n                                        </ListItemIcon>\n                                        Edit profile\n                                    </MenuItem>\n                                    <MenuItem onClick={() => {\n                                        user ? handleMenuClick(\"/signout\") : handleMenuClick(\"/menu\")\n                                    }}>\n                                        <ListItemIcon className={classes.listIcon}>\n                                            <ExitToApp/>\n                                        </ListItemIcon>\n                                        {user ? \"Sign Out\" : \"Sign In\"}\n                                    </MenuItem>\n                                </Menu>\n                            </Grid>\n                        </Grid>\n                    </Toolbar>\n                </AppBar>\n            </HideOnScroll>\n            <Toolbar id=\"back-to-top-anchor\"/>\n\n            <BackToTop>\n                <Fab color=\"secondary\" size=\"large\" aria-label=\"scroll back to top\">\n                    <KeyboardArrowUp/>\n                </Fab>\n            </BackToTop>\n        </div>\n    )\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}