{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hernandez\\\\Documents\\\\DOCUMENTOS UNIVERSIDAD\\\\INGENIERIA DE SOFTWARE\\\\CampusComm\\\\src\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './Home.css';\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport firebase, { auth } from './firebase';\nimport { useCollection } from 'react-firebase-hooks/firestore';\nimport { Box, Button, Card, CardContent, CardMedia, Divider, Grid, makeStyles, Menu, MenuItem, Snackbar, Typography } from \"@material-ui/core\";\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore';\nimport HomeListingCard from \"./listingCard\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport brandLogo from \"./img/Logo.png\";\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport { Alert } from \"@material-ui/lab\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"300px\",\n    margin: theme.spacing(2)\n  },\n  list: {\n    maxWidth: \"300px\"\n  },\n  moreIcon: {\n    color: theme.palette.text.primary\n  },\n  sorting: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  media: {\n    height: 200\n  },\n  title_price: {\n    display: \"flex\",\n    justifyContent: \"flex-start\"\n  },\n  icons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  icon: {\n    margin: \"5px\"\n  }\n}));\nconst firestore = firebase.firestore();\nvar sortNewestToOldest = true;\nvar listings = [];\nvar listingsPrice = [];\nvar docsID = [];\nvar docPriceID = [];\nconst options = [\"Date: Newest - Oldest\", \"Date: Oldest - Newest\", \"Price: High - Low\", \"Price: Low - High\"];\nlet categoryOptions = [];\nconst priceOptions = [\"None\", \"< £10\", \"£10 - £20\", \"£20 - £50\", \"£50 - £100\", \"£100+\"];\nconst prices = [-Infinity, 10, 20, 50, 100, Infinity];\nvar verified = false; // use this variable to check whether the user is verified or not\n\nvar universityTarget = \"University of Bath\";\nvar sellersMatched = [];\n\nfunction Home() {\n  _s();\n\n  const [user] = useAuthState(auth);\n\n  if (user != null) {\n    if (user.emailVerified) verified = true;\n    firestore.collection(\"users\").doc(user.uid).get().then(doc => {\n      if (doc.data()) universityTarget = doc.data().University;\n    }); //console.log(verified);\n  } // Getting the listings from the database.\n\n\n  firestore.collection(\"users\").get().then(snapshot => {\n    sellersMatched = [];\n    snapshot.forEach(doc => {\n      if (doc.data().University == universityTarget && sellersMatched.includes(doc.id) == false) {\n        sellersMatched.push(doc.id);\n      }\n    });\n  });\n  const listingsRef = firestore.collection('listings');\n  var query = listingsRef.orderBy('createdAt', \"desc\"); // ordering by time\n\n  const [showNew, setShowNew] = useState(true);\n  const [showOld, setShowOld] = useState(false);\n  const [showLow, setShowLow] = useState(false);\n  const [showHigh, setShowHigh] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [anchorElCategory, setAnchorElCategory] = useState(null);\n  const [anchorElPrice, setAnchorElPrice] = useState(null);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [selectedCategoryIndex, setSelectedCategoryIndex] = useState(0);\n  const [selectedPriceIndex, setSelectedPriceIndex] = useState(0);\n  let nListings = 0;\n  const location = useLocation();\n  const [successShown, setSuccessShown] = useState(false);\n  const [open, setOpen] = useState(!successShown && location.state && location.state.successful);\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setSuccessShown(false);\n\n    if (location.state && location.state.successful) {\n      location.state.successful = false;\n    }\n\n    setOpen(false);\n  };\n\n  const classes = useStyles();\n\n  const handleClickListItem = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClickListItemCategory = event => {\n    setAnchorElCategory(event.currentTarget);\n  };\n\n  const handleClickListItemPrice = event => {\n    setAnchorElPrice(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event, index) => {\n    setSelectedIndex(index);\n    setAnchorEl(null);\n\n    switch (index) {\n      case 0:\n        listingsTimeNew();\n        break;\n\n      case 1:\n        listingsTimeOld();\n        break;\n\n      case 2:\n        listingsPriceHigh();\n        break;\n\n      case 3:\n        listingsPriceLow();\n        break;\n\n      default:\n        console.log(\"Error Occourred: unkown index in Home.js/handleMenuItemClick\");\n    }\n  };\n\n  const handleMenuItemClickCategory = (event, index) => {\n    setSelectedCategoryIndex(index);\n    setAnchorElCategory(null);\n  };\n\n  const handleMenuItemClickPrice = (event, index) => {\n    setSelectedPriceIndex(index);\n    setAnchorElPrice(null);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    setAnchorElCategory(null);\n    setAnchorElPrice(null);\n  };\n\n  function listingsTimeNew() {\n    setShowNew(true);\n    setShowOld(false);\n    setShowLow(false);\n    setShowHigh(false);\n  }\n\n  function listingsTimeOld() {\n    setShowNew(false);\n    setShowOld(true);\n    setShowLow(false);\n    setShowHigh(false);\n  }\n\n  function listingsPriceLow() {\n    setShowNew(false);\n    setShowOld(false);\n    setShowLow(true);\n    setShowHigh(false);\n  }\n\n  function listingsPriceHigh() {\n    setShowNew(false);\n    setShowOld(false);\n    setShowLow(false);\n    setShowHigh(true);\n  }\n\n  const [listingsBig, loading] = useCollection(query);\n  const defaultListing = \"loading...\";\n  const defaultPrice = \"loading...\";\n  const defaultUrl = \"https://via.placeholder.com/150.jpg\";\n\n  const getListingCard = (listingObj, iD) => {\n    let props = {\n      listingObj: listingObj,\n      iD: iD\n    };\n\n    if ((categoryOptions[selectedCategoryIndex] === \"None\" || listingObj.categories.includes(categoryOptions[selectedCategoryIndex])) && (selectedPriceIndex === 0 || prices[selectedPriceIndex - 1] <= listingObj.price && listingObj.price <= prices[selectedPriceIndex]) && sellersMatched.includes(listingObj.seller)) {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(HomeListingCard, { ...props\n        }, listingObj.createdAt, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this);\n    } else {\n      nListings -= 1;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  };\n\n  const buttonClicked = button => {\n    alert(`${button} was clicked`);\n  }; // check if data is still being loaded\n\n\n  if (!loading) {\n    listings = [];\n    var index = 0;\n    listings = [];\n    listingsBig.forEach(doc => {\n      for (const category of doc.data().categories) {\n        if (!categoryOptions.includes(category) && sellersMatched.includes(doc.data().seller) && category !== \"\") {\n          categoryOptions.push(category);\n        }\n      }\n\n      listings[index] = doc.data();\n      docsID[index] = doc.id;\n      index++;\n    });\n    nListings = index; // changes string-prices to float-prices. if not parseable, it sets it to 0\n\n    var index = 0;\n    listings.forEach(doc => {\n      doc.price = parseFloat(doc.price);\n\n      if (isNaN(doc.price)) {\n        doc.price = 0;\n      }\n\n      listingsPrice[index] = doc;\n      index++;\n    }); // sorts listings by price\n\n    listingsPrice = listingsPrice.sort((a, b) => a.price > b.price ? 1 : -1);\n  }\n\n  categoryOptions.sort();\n\n  if (!categoryOptions.includes(\"None\")) {\n    categoryOptions.unshift(\"None\");\n  } else if (categoryOptions[0] !== \"None\") {\n    categoryOptions = categoryOptions.filter(e => e !== 'None');\n    categoryOptions.unshift(\"None\");\n  }\n\n  let emptyCards = [];\n\n  for (let i = 0; i < 8; ++i) {\n    emptyCards.push( /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: classes.root,\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          children: /*#__PURE__*/_jsxDEV(Skeleton, {\n            animation: \"wave\",\n            variant: \"rect\",\n            className: classes.media\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.title_price,\n            children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n              animation: \"wave\",\n              height: 28,\n              width: \"80%\",\n              style: {\n                marginBottom: 6\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              animation: \"wave\",\n              height: 28,\n              width: \"15%\",\n              style: {\n                marginBottom: 6,\n                marginLeft: 40\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n            animation: \"wave\",\n            height: 10,\n            style: {\n              marginBottom: 6,\n              marginTop: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n            animation: \"wave\",\n            height: 10\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n            animation: \"wave\",\n            height: 10,\n            width: \"65%\",\n            style: {\n              marginBottom: 6,\n              marginTop: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.icons,\n            children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n              variant: \"circle\",\n              width: 40,\n              height: 40,\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              variant: \"circle\",\n              width: 40,\n              height: 40,\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }, this)\n    }, void 0, false));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"100px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 6000,\n        onClose: handleCloseSnackbar,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleCloseSnackbar,\n          severity: \"success\",\n          variant: \"filled\",\n          children: \"Your product was successfully submitted!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        style: {\n          marginBottom: \"-50px\",\n          marginTop: \"-50px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: brandLogo,\n          alt: \"brand logo\",\n          width: 40,\n          height: 80,\n          className: classes.media\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h2\",\n          style: {\n            display: \"inline\",\n            marginLeft: \"15px\",\n            fontSize: \"40px\"\n          },\n          color: \"textPrimary\",\n          children: \"CampusComm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 1,\n        m: 1,\n        style: {\n          marginRight: \"56px\",\n          marginLeft: \"56px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justify: \"center\",\n          spacing: 4,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                display: \"inline\",\n                style: {\n                  marginRight: \"10px\"\n                },\n                children: \"Filtro:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClickListItemCategory,\n                variant: \"outlined\",\n                color: \"primary\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  children: categoryOptions[selectedCategoryIndex]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(UnfoldMoreIcon, {\n                  className: classes.moreIcon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                display: \"inline\",\n                style: {\n                  marginRight: \"10px\"\n                },\n                children: \"Rango de precio:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClickListItemPrice,\n                variant: \"outlined\",\n                color: \"primary\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  children: priceOptions[selectedPriceIndex]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(UnfoldMoreIcon, {\n                  className: classes.moreIcon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                display: \"inline\",\n                style: {\n                  marginRight: \"10px\"\n                },\n                children: \"Ordenar por:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClickListItem,\n                variant: \"outlined\",\n                color: \"primary\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  children: options[selectedIndex]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(UnfoldMoreIcon, {\n                  className: classes.moreIcon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          id: \"filter-menu\",\n          anchorEl: anchorEl,\n          keepMounted: true,\n          open: Boolean(anchorEl),\n          onClose: handleClose,\n          children: options.map((option, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n            selected: index === selectedIndex,\n            onClick: event => handleMenuItemClick(event, index),\n            children: option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          id: \"category-menu\",\n          anchorEl: anchorElCategory,\n          keepMounted: true,\n          open: Boolean(anchorElCategory),\n          onClose: handleClose,\n          children: categoryOptions.map((option, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n            selected: index === selectedCategoryIndex,\n            onClick: event => handleMenuItemClickCategory(event, index),\n            children: option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          id: \"price-menu\",\n          anchorEl: anchorElPrice,\n          keepMounted: true,\n          open: Boolean(anchorElPrice),\n          onClose: handleClose,\n          children: priceOptions.map((option, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n            selected: index === selectedPriceIndex,\n            onClick: event => handleMenuItemClickPrice(event, index),\n            children: option\n          }, option, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 1,\n        m: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justify: \"center\",\n          spacing: 4,\n          children: !loading ? showNew || showOld ? (showNew ? listings : listings.reverse()).map((listingObj, index) => getListingCard(listingObj, docsID[showNew ? index : docsID.length - 1 - index])) : (showLow ? listingsPrice : listingsPrice.reverse()).map((listingObj, index) => getListingCard(listingObj, docsID[showLow ? index : docsID.length - 1 - index])) : emptyCards\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 25\n        }, this), nListings === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n          style: {\n            marginTop: \"50px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://media.giphy.com/media/xUA7b30EbtkaMHvRgk/giphy.gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h1\",\n            style: {\n              fontSize: \"35px\"\n            },\n            children: \"No parece haber nada aqu\\xED. Quiz\\xE1s podr\\xEDas ajustar algunos de los filtros.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"2E1Llc0sWaPkquO2CA4ZjoxkeM4=\", false, function () {\n  return [useAuthState, useLocation, useStyles, useCollection];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Hernandez/Documents/DOCUMENTOS UNIVERSIDAD/INGENIERIA DE SOFTWARE/CampusComm/src/Home.js"],"names":["React","useState","useAuthState","firebase","auth","useCollection","Box","Button","Card","CardContent","CardMedia","Divider","Grid","makeStyles","Menu","MenuItem","Snackbar","Typography","UnfoldMoreIcon","HomeListingCard","Skeleton","brandLogo","Redirect","useLocation","Alert","useStyles","theme","root","width","margin","spacing","list","maxWidth","moreIcon","color","palette","text","primary","sorting","display","alignItems","media","height","title_price","justifyContent","icons","icon","firestore","sortNewestToOldest","listings","listingsPrice","docsID","docPriceID","options","categoryOptions","priceOptions","prices","Infinity","verified","universityTarget","sellersMatched","Home","user","emailVerified","collection","doc","uid","get","then","data","University","snapshot","forEach","includes","id","push","listingsRef","query","orderBy","showNew","setShowNew","showOld","setShowOld","showLow","setShowLow","showHigh","setShowHigh","anchorEl","setAnchorEl","anchorElCategory","setAnchorElCategory","anchorElPrice","setAnchorElPrice","selectedIndex","setSelectedIndex","selectedCategoryIndex","setSelectedCategoryIndex","selectedPriceIndex","setSelectedPriceIndex","nListings","location","successShown","setSuccessShown","open","setOpen","state","successful","handleClick","handleCloseSnackbar","event","reason","classes","handleClickListItem","currentTarget","handleClickListItemCategory","handleClickListItemPrice","handleMenuItemClick","index","listingsTimeNew","listingsTimeOld","listingsPriceHigh","listingsPriceLow","console","log","handleMenuItemClickCategory","handleMenuItemClickPrice","handleClose","listingsBig","loading","defaultListing","defaultPrice","defaultUrl","getListingCard","listingObj","iD","props","categories","price","seller","createdAt","buttonClicked","button","alert","category","parseFloat","isNaN","sort","a","b","unshift","filter","e","emptyCards","i","marginBottom","marginLeft","marginTop","fontSize","marginRight","Boolean","map","option","reverse","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './Home.css';\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport firebase, { auth } from './firebase';\nimport { useCollection } from 'react-firebase-hooks/firestore';\nimport {\n    Box,\n    Button,\n    Card,\n    CardContent,\n    CardMedia,\n    Divider,\n    Grid,\n    makeStyles,\n    Menu,\n    MenuItem,\n    Snackbar,\n    Typography\n} from \"@material-ui/core\";\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore';\nimport HomeListingCard from \"./listingCard\";\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport brandLogo from \"./img/Logo.png\";\nimport { Redirect, useLocation } from \"react-router-dom\";\nimport { Alert } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => (\n    {\n        root: {\n            width: \"300px\",\n            margin: theme.spacing(2),\n        },\n        list: {\n            maxWidth: \"300px\"\n        },\n        moreIcon: {\n            color: theme.palette.text.primary\n        },\n        sorting: {\n            display: \"flex\",\n            alignItems: \"center\",\n        },\n        media: {\n            height: 200\n        },\n        title_price: {\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n        },\n        icons: {\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n        },\n        icon: {\n            margin: \"5px\",\n        },\n    }));\n\nconst firestore = firebase.firestore();\n\nvar sortNewestToOldest = true;\nvar listings = [];\nvar listingsPrice = [];\nvar docsID = [];\nvar docPriceID = [];\n\nconst options = [\n    \"Date: Newest - Oldest\",\n    \"Date: Oldest - Newest\",\n    \"Price: High - Low\",\n    \"Price: Low - High\",\n];\n\n\nlet categoryOptions = []\nconst priceOptions = [\n    \"None\",\n    \"< £10\",\n    \"£10 - £20\",\n    \"£20 - £50\",\n    \"£50 - £100\",\n    \"£100+\",\n];\n\nconst prices = [\n    -Infinity, 10, 20, 50, 100, Infinity\n]\n\nvar verified = false; // use this variable to check whether the user is verified or not\nvar universityTarget = \"University of Bath\";\nvar sellersMatched = []\n\n\nfunction Home() {\n    const [user] = useAuthState(auth);\n\n\n\n    if (user != null) {\n        if (user.emailVerified) verified = true;\n        firestore.collection(\"users\").doc(user.uid).get().then(doc => {\n            if (doc.data()) universityTarget = doc.data().University;\n        })\n        //console.log(verified);\n    }\n    // Getting the listings from the database.\n    firestore.collection(\"users\").get().then(snapshot => {\n        sellersMatched = []\n        snapshot.forEach(doc => {\n            if (doc.data().University == universityTarget && sellersMatched.includes(doc.id) == false) {\n                sellersMatched.push(doc.id);\n            }\n        })\n    })\n    const listingsRef = firestore.collection('listings');\n    var query = listingsRef.orderBy('createdAt', \"desc\"); // ordering by time\n\n    const [showNew, setShowNew] = useState(true);\n    const [showOld, setShowOld] = useState(false);\n    const [showLow, setShowLow] = useState(false);\n    const [showHigh, setShowHigh] = useState(false);\n\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [anchorElCategory, setAnchorElCategory] = useState(null);\n    const [anchorElPrice, setAnchorElPrice] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const [selectedCategoryIndex, setSelectedCategoryIndex] = useState(0);\n    const [selectedPriceIndex, setSelectedPriceIndex] = useState(0);\n    let nListings = 0\n\n    const location = useLocation();\n\n    const [successShown, setSuccessShown] = useState(false);\n    const [open, setOpen] = useState(!successShown && location.state && location.state.successful);\n\n    const handleClick = () => {\n        setOpen(true);\n    };\n\n    const handleCloseSnackbar = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setSuccessShown(false)\n        if (location.state && location.state.successful) {\n\n            location.state.successful = false\n        }\n        setOpen(false);\n    };\n\n\n    const classes = useStyles();\n\n    const handleClickListItem = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n\n    const handleClickListItemCategory = (event) => {\n        setAnchorElCategory(event.currentTarget);\n    };\n\n\n    const handleClickListItemPrice = (event) => {\n        setAnchorElPrice(event.currentTarget);\n    };\n\n    const handleMenuItemClick = (event, index) => {\n        setSelectedIndex(index);\n        setAnchorEl(null);\n        switch (index) {\n            case 0:\n                listingsTimeNew()\n                break;\n\n            case 1:\n                listingsTimeOld()\n                break;\n\n            case 2:\n                listingsPriceHigh()\n                break;\n\n            case 3:\n                listingsPriceLow()\n                break;\n            default:\n                console.log(\"Error Occourred: unkown index in Home.js/handleMenuItemClick\")\n\n        }\n\n    };\n\n    const handleMenuItemClickCategory = (event, index) => {\n        setSelectedCategoryIndex(index);\n        setAnchorElCategory(null);\n    };\n\n    const handleMenuItemClickPrice = (event, index) => {\n        setSelectedPriceIndex(index);\n        setAnchorElPrice(null);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n        setAnchorElCategory(null);\n        setAnchorElPrice(null);\n    };\n\n    function listingsTimeNew() {\n        setShowNew(true);\n        setShowOld(false);\n        setShowLow(false);\n        setShowHigh(false);\n    }\n\n    function listingsTimeOld() {\n        setShowNew(false);\n        setShowOld(true);\n        setShowLow(false);\n        setShowHigh(false);\n    }\n\n    function listingsPriceLow() {\n        setShowNew(false);\n        setShowOld(false);\n        setShowLow(true);\n        setShowHigh(false);\n    }\n\n    function listingsPriceHigh() {\n        setShowNew(false);\n        setShowOld(false);\n        setShowLow(false);\n        setShowHigh(true);\n    }\n\n\n    const [listingsBig, loading] = useCollection(query);\n\n    const defaultListing = \"loading...\";\n    const defaultPrice = \"loading...\";\n    const defaultUrl = \"https://via.placeholder.com/150.jpg\";\n\n    const getListingCard = (listingObj, iD) => {\n        let props = {\n            listingObj: listingObj,\n            iD: iD,\n        }\n\n        if (\n            (\n                categoryOptions[selectedCategoryIndex] === \"None\"\n                ||\n                listingObj.categories.includes(categoryOptions[selectedCategoryIndex])\n            )\n            &&\n            (\n                selectedPriceIndex === 0\n                ||\n                (\n                    prices[selectedPriceIndex - 1] <= listingObj.price\n                    &&\n                    listingObj.price <= prices[selectedPriceIndex]\n                )\n            )\n            &&\n            (\n                sellersMatched.includes(listingObj.seller)\n            )\n        ) {\n            return (\n                <Grid item>\n                    <HomeListingCard key={listingObj.createdAt} {...props} />\n                </Grid>\n            )\n        } else {\n            nListings -= 1\n            return (<></>)\n        }\n    }\n\n    const buttonClicked = (button) => {\n        alert(`${button} was clicked`)\n    }\n\n    // check if data is still being loaded\n    if (!loading) {\n        listings = []\n        var index = 0;\n        listings = [];\n        listingsBig.forEach(doc => {\n            for (const category of doc.data().categories) {\n                if (!categoryOptions.includes(category) && sellersMatched.includes(doc.data().seller) && category !== \"\") {\n                    categoryOptions.push(category)\n                }\n            }\n            listings[index] = doc.data();\n            docsID[index] = doc.id;\n            index++;\n        })\n        nListings = index\n\n        // changes string-prices to float-prices. if not parseable, it sets it to 0\n        var index = 0;\n\n        listings.forEach(doc => {\n            doc.price = parseFloat(doc.price);\n            if (isNaN(doc.price)) {\n                doc.price = 0;\n            }\n            listingsPrice[index] = doc;\n            index++;\n        })\n\n        // sorts listings by price\n        listingsPrice = listingsPrice.sort((a, b) => (a.price > b.price) ? 1 : -1);\n\n    }\n\n    categoryOptions.sort()\n    if (!categoryOptions.includes(\"None\")) {\n        categoryOptions.unshift(\"None\")\n    } else if (categoryOptions[0] !== \"None\") {\n        categoryOptions = categoryOptions.filter(e => e !== 'None');\n        categoryOptions.unshift(\"None\");\n    }\n\n    let emptyCards = []\n\n    for (let i = 0; i < 8; ++i) {\n        emptyCards.push(<>\n            <Card className={classes.root}>\n                <CardMedia>\n                    <Skeleton animation=\"wave\" variant=\"rect\" className={classes.media} />\n                </CardMedia>\n                <CardContent>\n                    <div className={classes.title_price}>\n                        <Skeleton animation=\"wave\" height={28} width=\"80%\" style={{ marginBottom: 6 }} />\n                        <Skeleton animation=\"wave\" height={28} width=\"15%\" style={{ marginBottom: 6, marginLeft: 40, }} />\n\n                    </div>\n                    <Divider variant=\"middle\" />\n                    <Skeleton animation=\"wave\" height={10} style={{ marginBottom: 6, marginTop: 6 }} />\n                    <Skeleton animation=\"wave\" height={10} />\n                    <Skeleton animation=\"wave\" height={10} width=\"65%\" style={{ marginBottom: 6, marginTop: 6 }} />\n                    <div className={classes.icons}>\n                        <Skeleton variant=\"circle\" width={40} height={40} className={classes.icon} />\n                        <Skeleton variant=\"circle\" width={40} height={40} className={classes.icon} />\n                    </div>\n                </CardContent>\n            </Card>\n        </>)\n    }\n\n    return (\n        <div>\n            {user ?\n                <div style={{ marginBottom: \"100px\" }}>\n                    <Snackbar open={open} autoHideDuration={6000} onClose={handleCloseSnackbar}>\n                        <Alert onClose={handleCloseSnackbar} severity=\"success\" variant=\"filled\">\n                            Your product was successfully submitted!\n                        </Alert>\n                    </Snackbar>\n\n                    <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\"\n                        style={{ marginBottom: \"-50px\", marginTop: \"-50px\" }}>\n                        <img src={brandLogo} alt=\"brand logo\" width={40} height={80} className={classes.media} />\n                        <Typography variant=\"h2\" style={{ display: \"inline\", marginLeft: \"15px\", fontSize: \"40px\" }}\n                            color=\"textPrimary\">\n                            CampusComm\n                        </Typography>\n                    </Box>\n\n                    <Box p={1} m={1} style={{ marginRight: \"56px\", marginLeft: \"56px\", }}>\n                        <Grid container justify=\"center\" spacing={4}>\n                            <Grid item xs={12} md={4}>\n                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                    <Typography display=\"inline\" style={{ marginRight: \"10px\" }}>\n                                        Filtro:\n                                    </Typography>\n                                    <Button onClick={handleClickListItemCategory} variant=\"outlined\" color=\"primary\">\n                                        <Typography>\n                                            {categoryOptions[selectedCategoryIndex]}\n                                        </Typography>\n                                        <UnfoldMoreIcon className={classes.moreIcon} />\n                                    </Button>\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12} md={4}>\n                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                    <Typography display=\"inline\" style={{ marginRight: \"10px\" }}>\n                                        Rango de precio:\n                                    </Typography>\n                                    <Button onClick={handleClickListItemPrice} variant=\"outlined\" color=\"primary\">\n                                        <Typography>\n                                            {priceOptions[selectedPriceIndex]}\n                                        </Typography>\n                                        <UnfoldMoreIcon className={classes.moreIcon} />\n                                    </Button>\n                                </Box>\n                            </Grid>\n                            <Grid item xs={12} md={4}>\n                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                                    <Typography display=\"inline\" style={{ marginRight: \"10px\" }}>\n                                        Ordenar por:\n                                    </Typography>\n                                    <Button onClick={handleClickListItem} variant=\"outlined\" color=\"primary\">\n                                        <Typography>\n                                            {options[selectedIndex]}\n                                        </Typography>\n                                        <UnfoldMoreIcon className={classes.moreIcon} />\n                                    </Button>\n                                </Box>\n                            </Grid>\n                        </Grid>\n                        <Menu\n                            id=\"filter-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                        >\n                            {options.map((option, index) => (\n                                <MenuItem\n                                    key={option}\n                                    selected={index === selectedIndex}\n                                    onClick={(event) => handleMenuItemClick(event, index)}\n                                >\n                                    {option}\n                                </MenuItem>\n                            ))}\n                        </Menu>\n                        <Menu\n                            id=\"category-menu\"\n                            anchorEl={anchorElCategory}\n                            keepMounted\n                            open={Boolean(anchorElCategory)}\n                            onClose={handleClose}\n                        >\n                            {categoryOptions.map((option, index) => (\n                                <MenuItem\n                                    key={option}\n                                    selected={index === selectedCategoryIndex}\n                                    onClick={(event) => handleMenuItemClickCategory(event, index)}\n                                >\n                                    {option}\n                                </MenuItem>\n                            ))}\n                        </Menu>\n                        <Menu\n                            id=\"price-menu\"\n                            anchorEl={anchorElPrice}\n                            keepMounted\n                            open={Boolean(anchorElPrice)}\n                            onClose={handleClose}\n                        >\n                            {priceOptions.map((option, index) => (\n                                <MenuItem\n                                    key={option}\n                                    selected={index === selectedPriceIndex}\n                                    onClick={(event) => handleMenuItemClickPrice(event, index)}\n                                >\n                                    {option}\n                                </MenuItem>\n                            ))}\n                        </Menu>\n\n                    </Box>\n\n\n                    <Box p={1} m={1}>\n                        <Grid container justify=\"center\" spacing={4}>\n                            {!loading ?\n                                ((showNew || showOld) ?\n                                    ((showNew ? listings : listings.reverse()).map((listingObj, index) =>\n                                        getListingCard(listingObj, docsID[showNew ? index : docsID.length - 1 - index])\n                                    ))\n                                    :\n                                    ((showLow ? listingsPrice : listingsPrice.reverse()).map((listingObj, index) =>\n                                        getListingCard(listingObj, docsID[showLow ? index : docsID.length - 1 - index])\n                                    ))\n\n\n                                )\n                                : emptyCards\n                            }\n\n                        </Grid>\n                        {\n                            nListings === 0 ?\n                                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\"\n                                    flexDirection=\"column\" style={{ marginTop: \"50px\" }}>\n                                    <img src=\"https://media.giphy.com/media/xUA7b30EbtkaMHvRgk/giphy.gif\" />\n                                    <Typography variant=\"h1\" style={{ fontSize: \"35px\" }}>No parece haber nada aquí. Quizás podrías ajustar algunos de los filtros.\n                                    </Typography>\n                                </Box> : <></>\n                        }\n                    </Box>\n                </div>\n                :\n                <Redirect to=\"/menu\" />\n            }\n        </div>\n    )\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}