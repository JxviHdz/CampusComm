/*!
 * MIT License
 * 
 * Copyright (c) 2021 Yoav Niran
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],n):"object"==typeof exports?exports.rpldy=n(require("react"),require("react-dom")):t.rpldy=n(t.react,t["react-dom"])}(window,(function(t,n){return function(t){function n(n){for(var r,i,a=n[0],c=n[1],l=n[2],s=0,f=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(d&&d(n);f.length;)f.shift()();return u.push.apply(u,l||[]),e()}function e(){for(var t,n=0;n<u.length;n++){for(var e=u[n],r=!0,a=1;a<e.length;a++){var c=e[a];0!==o[c]&&(r=!1)}r&&(u.splice(n--,1),t=i(i.s=e[0]))}return t}var r={},o={uiCore:0},u=[];function i(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=r,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="";var a=window.webpackJsonprpldy=window.webpackJsonprpldy||[],c=a.push.bind(a);a.push=n,a=a.slice();for(var l=0;l<a.length;l++)n(a[l]);var d=c;return u.push([0,"polyfills"]),e()}({0:function(t,n,e){e("Xsbf"),e("mHo/"),e("GjXi"),e("SXZu"),e("h0aC"),t.exports=e("lFlW")},"10TY":function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return o})),e.d(n,"c",(function(){return u}));var r="__rpldy-logger-debug__",o={PENDING:"pending",ADDED:"added",PROCESSING:"processing",UPLOADING:"uploading",CANCELLED:"cancelled",FINISHED:"finished",ABORTED:"aborted"},u={PENDING:"pending",ADDED:"added",UPLOADING:"uploading",CANCELLED:"cancelled",FINISHED:"finished",ERROR:"error",ABORTED:"aborted"}},DVTP:function(t,n,e){"use strict";(function(t){n.a=function(){var n,e;return"production"===(null===(n=t)||void 0===n||null===(e=n.env)||void 0===e?void 0:"production")}}).call(this,e("8oxB"))},GjXi:function(t,n,e){"use strict";e.r(n),e.d(n,"send",(function(){return F})),e.d(n,"getXhrSend",(function(){return N})),e.d(n,"XHR_SENDER_TYPE",(function(){return g})),e.d(n,"MissingUrlError",(function(){return A}));var r=e("o+MX"),o=e.n(r),u=e("ZbhI"),i=e.n(u),a=e("mnMc"),c=e.n(a),l=e("UtpJ"),d=e.n(l),s=e("kT1S"),f=e.n(s),p=e("mHo/"),g="rpldy-sender",v=e("06Pm"),E=e.n(v),h=e("X5/F"),b=e.n(h),S=e("K82H"),m=e.n(S),T=e("P0a4"),A=function(t){b()(e,t);var n=m()(e);function e(t){var r;return E()(this,e),(r=n.call(this,"".concat(t," didn't receive upload URL"))).name="MissingUrlError",r}return e}(e.n(T)()(Error)),O=e("zLi2"),L=e.n(O),I=e("i5y0"),R=e.n(I),_=e("RXMP"),y=e.n(_),C=function(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),u=2;u<e;u++)r[u-2]=arguments[u];var i,a;t.set?t.set.apply(t,o()(i=[n]).call(i,r)):(t.delete&&t.delete(n),t.append.apply(t,o()(a=[n]).call(a,r)))},P=function(t,n){var e,r=new FormData;n.params&&y()(e=R()(n.params)).call(e,(function(t){var n=L()(t,2),e=n[0],o=n[1];return C(r,e,o)}));return function(t,n,e){var r=1===n.length;y()(n).call(n,(function(n,u){var i,a=r?e.paramName:Object(p.isFunction)(e.formatGroupParamName)?e.formatGroupParamName(u,e.paramName):o()(i="".concat(e.paramName,"[")).call(i,u,"]");n.file?C(t,a,n.file,n.file.name):n.url&&C(t,a,n.url)}))}(r,t,n),r},D=[200,201,202,203,204],w=function(t,n,e,r,o){var u,i=(null==o?void 0:o.getRequestData)?o.getRequestData(t,e):function(t,n){var e;if(n.sendWithFormData)p.logger.debugLog("uploady.sender: sending ".concat(t.length," item(s) as form data")),e=P(t,n);else{if(t.length>1)throw new Error("XHR Sender - Request without form data can only contain 1 item. received ".concat(t.length));var r=t[0];p.logger.debugLog("uploady.sender: sending item ".concat(r.id," as request body")),e=r.file||r.url}return e}(t,e),a=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,c=arguments.length>2?arguments[2]:void 0;c=Object(p.merge)(f()(f()({},Object(p.pick)(e,["method","headers","withCredentials"])),{},{preSend:function(n){n.upload.onprogress=function(n){n.lengthComputable&&r&&r(n,d()(t).call(t))}}}),c);var l=Object(p.request)(o,a,c);return u=l.xhr,l},c=(null==o?void 0:o.preRequestHandler)?o.preRequestHandler(a,t,n,e,r,o):a();return{url:n,count:t.length,pXhr:c,getXhr:function(){return u},aborted:!1}},B=function(t,n,e){var r=t,o=null==n?void 0:n["content-type"];if(e.forceJsonResponse||(null==o?void 0:c()(o).call(o,"json")))try{r=JSON.parse(t)}catch(t){}return r},U=function(t,n){return t.pXhr.then((function(t){var e,r,o,u;p.logger.debugLog("uploady.sender: received upload response ",t),o=~i()(D).call(D,t.status)?p.FILE_STATES.FINISHED:p.FILE_STATES.ERROR,u=t.status;var a=Object(p.parseResponseHeaders)(t);return{status:u,state:o,response:{data:null!==(e=null===(r=n.formatServerResponse)||void 0===r?void 0:r.call(n,t.response,u,a))&&void 0!==e?e:B(t.response,a,n),headers:a}}})).catch((function(n){var e,r;return t.aborted?(e=p.FILE_STATES.ABORTED,r="aborted"):(p.logger.debugLog("uploady.sender: upload failed: ",n),e=p.FILE_STATES.ERROR,r=n),{error:!0,state:e,response:r,status:0}}))},N=function(t){return function(n,e,r,u){if(!e)throw new A(g);p.logger.debugLog("uploady.sender: sending file: ",{items:n,url:e,options:r});var i=w(n,e,r,u,t);return{request:U(i,r),abort:function(){return function(t){var n,e=!1,r=t.aborted,u=(0,t.getXhr)();!r&&u&&u.readyState&&4!==u.readyState&&(p.logger.debugLog(o()(n="uploady.sender: cancelling request with ".concat(t.count," items to: ")).call(n,t.url)),u.abort(),t.aborted=!0,e=!0);return e}(i)},senderType:g}}},F=N();n.default=F},Lrr1:function(t,n,e){"use strict";(function(t){e.d(n,"c",(function(){return a})),e.d(n,"b",(function(){return c})),e.d(n,"d",(function(){return l})),e.d(n,"a",(function(){return d}));var r=e("CtDf"),o=e.n(r),u=e("mHo/"),i=o()("_rpldy-version_"),a=function(){return"0.11.3"},c=function(){return(Object(u.hasWindow)()?window:t)[i]},l=function(){(Object(u.hasWindow)()?window:t)[i]=a()},d=function(){var t=c();return!!t&&t!==a()}}).call(this,e("8oxB"))},SXZu:function(t,n,e){"use strict";e.r(n),e.d(n,"UPLOADER_EVENTS",(function(){return k})),e.d(n,"DEFAULT_OPTIONS",(function(){return Bt})),e.d(n,"composeEnhancers",(function(){return Xt})),e.d(n,"createUploader",(function(){return kt})),e.d(n,"send",(function(){return Dt.send})),e.d(n,"getXhrSend",(function(){return Dt.getXhrSend})),e.d(n,"XHR_SENDER_TYPE",(function(){return Dt.XHR_SENDER_TYPE})),e.d(n,"MissingUrlError",(function(){return Dt.MissingUrlError}));var r,o,u=e("FLGM"),i=e.n(u),a=e("OBge"),c=e.n(a),l=e("o+MX"),d=e.n(l),s=e("STz3"),f=e.n(s),p=e("Xsbf"),g=e("mHo/"),v=e("KYsz"),E=e.n(v),h=e("zLi2"),b=e.n(h),S=e("RXMP"),m=e.n(S),T=e("LYCE"),A=e.n(T),O=e("+oHS"),L=e.n(O),I=e("CtDf"),R=e.n(I),_=R()("__rpldy-sstt-proxy__"),y=R()("__rpldy-sstt-state__"),C=e("6UaR"),P=e.n(C),D=e("OWCx"),w=e.n(D),B=e("ZbhI"),U=e.n(B),N=function(t){var n;return!Object(g.isProduction)()&&!!t&&!!~U()(n=w()(t)).call(n,_)},F=function(t){return P()(t)||Object(g.isPlainObject)(t)&&!function(t){return Object(g.hasWindow)()&&t instanceof File||t.name&&t.size&&t.uri}(t)},j=Object(g.getMerge)({withSymbols:!0,predicate:function(t){return t!==_&&t!==y}}),H=function(t){return!!Object(g.isProduction)()||t[y].isUpdateable},x=function(t,n){Object(g.isProduction)()||(t[y].isUpdateable=n)},M=function(t,n){var e,r;F(t)&&(N(t)||(t[_]=!0,e=new Proxy(t,n)),m()(r=L()(t)).call(r,(function(e){t[e]=M(t[e],n)})));return e||t},G=function(t){return N(t)?Object(g.clone)(t,j):t},k=Object(g.devFreeze)({BATCH_ADD:"BATCH-ADD",BATCH_START:"BATCH-START",BATCH_PROGRESS:"BATCH_PROGRESS",BATCH_FINISH:"BATCH-FINISH",BATCH_ABORT:"BATCH-ABORT",BATCH_CANCEL:"BATCH-CANCEL",ITEM_START:"FILE-START",ITEM_CANCEL:"FILE-CANCEL",ITEM_PROGRESS:"FILE-PROGRESS",ITEM_FINISH:"FILE-FINISH",ITEM_ABORT:"FILE-ABORT",ITEM_ERROR:"FILE-ERROR",ITEM_FINALIZE:"FILE-FINALIZE",REQUEST_PRE_SEND:"REQUEST_PRE_SEND",ALL_ABORT:"ALL_ABORT"}),X=Object(g.devFreeze)({ITEM_PROGRESS:"ITEM_PROGRESS",BATCH_PROGRESS:"BATCH_PROGRESS"}),q=[g.FILE_STATES.FINISHED,g.FILE_STATES.ERROR,g.FILE_STATES.CANCELLED,g.FILE_STATES.ABORTED],V=e("cdeZ"),z=e.n(V),W=e("5PDf"),Z=e.n(W),Q=e("M5Mt"),Y=e.n(Q),J=e("04Ix"),K=e.n(J),$=e("TEMH"),tt=e.n($),nt=e("mnMc"),et=e.n(nt),rt=e("kT1S"),ot=e.n(rt),ut=[g.BATCH_STATES.ADDED,g.BATCH_STATES.PROCESSING,g.BATCH_STATES.UPLOADING],it=[g.BATCH_STATES.ABORTED,g.BATCH_STATES.CANCELLED,g.BATCH_STATES.FINISHED],at=function(t,n){return t.batches[n].batch},ct=function(t,n,e){return t.getState().items[n].batchId===e},lt=function(t,n){var e=t.getState(),r=e.items[n];return e.batches[r.batchId]},dt=function(t,n){return lt(t,n).batch},st=function(t,n){var e=function(t,n){return at(t.getState(),n)}(t,n);t.updateState((function(t){var n;m()(n=e.items).call(n,(function(n){var e,r=n.id;delete t.items[r];var o,u=U()(e=t.itemQueue).call(e,r);~u&&Y()(o=t.itemQueue).call(o,u,1)}))}))},ft=function(t,n){t.updateState((function(t){delete t.batches[n]}))},pt=function(t,n,e){var r,o=t.getState(),u=at(o,n),a=o.items,c=ot()(ot()({},G(u)),{},{items:i()(r=u.items).call(r,(function(t){var n=t.id;return G(a[n])}))});t.trigger(e,c)},gt=function(t,n){var e=dt(t,n);return et()(ut).call(ut,e.state)},vt=function(t){return et()(it).call(it,t.state)},Et=(r={},K()(r,g.FILE_STATES.PENDING,null),K()(r,g.FILE_STATES.ADDED,k.ITEM_START),K()(r,g.FILE_STATES.FINISHED,k.ITEM_FINISH),K()(r,g.FILE_STATES.ERROR,k.ITEM_ERROR),K()(r,g.FILE_STATES.CANCELLED,k.ITEM_CANCEL),K()(r,g.FILE_STATES.ABORTED,k.ITEM_ABORT),K()(r,g.FILE_STATES.UPLOADING,k.ITEM_PROGRESS),r),ht=function(t){return!!~U()(q).call(q,t.state)},bt=function(t,n,e){return m()(n).call(n,(function(n){var e,r=t.getState(),o=n.id,u=n.info;if(g.logger.debugLog("uploader.processor.queue: request finished for item - ",{id:o,info:u}),r.items[o]){t.updateState((function(t){var n=t.items[o];n.state=u.state,n.uploadResponse=u.response,n.uploadStatus=u.status,ht(n)&&delete t.aborts[o]}));var i=t.getState().items[o];u.state===g.FILE_STATES.FINISHED&&i.completed<100&&t.handleItemProgress(i,100,i.file?i.file.size:0),Et[i.state]&&t.trigger(Et[i.state],i),ht(i)&&(!function(t,n){t.updateState((function(t){t.batches[n].finishedCounter+=1}))}(t,i.batchId),t.trigger(k.ITEM_FINALIZE,i))}var a=U()(e=r.itemQueue).call(e,o);~a&&t.updateState((function(t){var n,e;Y()(n=t.itemQueue).call(n,a,1);var r,u=U()(e=t.activeIds).call(e,o);~u&&Y()(r=t.activeIds).call(r,u,1)}))})),function(t){var n,e=t.getState();m()(n=L()(e.batches)).call(n,(function(n){var r=e.batches[n],o=r.batch,u=r.finishedCounter,i=o.orgItemCount,a=vt(o);i===u&&(t.updateState((function(t){var e=at(t,n);e.state=a?e.state:g.BATCH_STATES.FINISHED,t.currentBatch===n&&(t.currentBatch=null)})),g.logger.debugLog("uploady.uploader.batchHelpers: cleaning up batch: ".concat(o.id)),a||pt(t,n,k.BATCH_FINISH),st(t,n),ft(t,n))}))}(t),e(t)},St=Object(g.getMerge)({undefinedOverwrites:!0}),mt=function(t,n){var e=i()(n).call(n,(function(t){return t.id}));return t.updateState((function(t){var n;t.activeIds=d()(n=t.activeIds).call(n,e)})),function(t,n,e){return Object(g.triggerUpdater)(t.trigger,k.REQUEST_PRE_SEND,{items:n,options:e}).then((function(t){if(t){if(g.logger.debugLog("uploader.queue: REQUEST_PRE_SEND event returned updated items/options",t),t.items){if(t.items.length!==n.length||!Object(g.isSamePropInArrays)(t.items,n,["id","batchId","recycled"]))throw new Error("REQUEST_PRE_SEND event handlers must return same items with same ids");n=t.items}t.options&&(e=St({},e,t.options))}return{items:n,options:e,cancelled:!1===t}}))}(t,n,t.getState().batches[n[0].batchId].batchOptions).then((function(e){if(!e.cancelled){var r;t.updateState((function(t){var r;m()(r=e.items).call(r,(function(n){t.items[n.id]=n})),t.batches[n[0].batchId].batchOptions=e.options}));var o=t.getState();e.items=i()(r=e.items).call(r,(function(t){return o.items[t.id]})),e.options=o.batches[n[0].batchId].batchOptions}return e}))},Tt=function(t,n,e){var r,o=n.items,u=n.options,a=t.getState().batches[o[0].batchId].batch;try{r=t.sender.send(o,a,u)}catch(t){g.logger.debugLog("uploader.queue: sender failed with unexpected error",t),r={request:c.a.resolve({status:0,state:g.FILE_STATES.ERROR,response:t.message}),abort:function(){return!1},senderType:"exception-handler"}}return function(t,n,e){t.updateState((function(t){m()(n).call(n,(function(n){t.items[n.id].state=g.FILE_STATES.UPLOADING,t.aborts[n.id]=e.abort}))}))}(t,o,r),r.request.then((function(n){var r=i()(o).call(o,(function(t){return{id:t.id,info:n}}));bt(t,r,e)}))},At=function(t,n,e){var r=t.getState(),o=f()(r.items);return o=Z()(o).call(o,(function(t){return!!~U()(n).call(n,t.id)})),c.a.all(i()(o).call(o,(function(n){return t.runCancellable(k.ITEM_START,n)}))).then((function(n){var e;return{allowedItems:Z()(e=i()(n).call(n,(function(n,e){return n?null:function(t,n){return n.getState().items[t]}(o[e].id,t)}))).call(e,Boolean),cancelledResults:n}})).then((function(r){var u=r.allowedItems,a=r.cancelledResults;return(u.length?mt(t,u).then():c.a.resolve()).then((function(r){var u;return r&&(r.cancelled?a=i()(n).call(n,(function(){return!0})):Tt(t,r,e)),function(t,n,e,r){var o,u=Z()(o=i()(e).call(e,(function(t,e){return t?n[e].id:null}))).call(o,Boolean);if(u.length){var a=i()(u).call(u,(function(t){return{id:t,info:{status:0,state:g.FILE_STATES.CANCELLED,response:"cancel"}}}));bt(t,a,r)}return!!u.length}(t,o,a,e)||(u=e(t)),u}))}))},Ot=function(t,n){var e,r;return!!~U()(e=z()(r=t.getState().activeIds).call(r)).call(e,n)},Lt=function(t){var n,e=t.getState().itemQueue,r=function(t){for(var n=t.getState(),e=n.itemQueue,r=n.items,o=0,u=e[o];u&&(Ot(t,u)||!gt(t,u)||r[u].state!==g.FILE_STATES.ADDED);)u=e[o+=1];return u?o:-1}(t),o=e[r];if(o){var u=lt(t,o),i=u.batch.id,a=u.batchOptions.maxGroupSize||0;if(u.batchOptions.grouped&&a>1){n=[];for(var c=!0;n.length<a&&c;)n.push(o),c=(o=e[r+n.length])&&ct(t,o,i)}else n=[o]}return n},It=function(t){var n=Lt(t),e=c.a.resolve();if(n){var r=t.getCurrentActiveCount(),o=t.getOptions(),u=o.concurrent,i=void 0===u?0:u,a=o.maxConcurrent;if(!r||i&&r<(void 0===a?0:a)){g.logger.debugLog("uploader.processor: Processing next upload - ",{ids:n,state:t.getState(),currentCount:r});var l=!1,d=c.a.resolve(!1);(function(t,n){var e=dt(t,n);return t.getState().currentBatch!==e.id})(t,n[0])&&(d=function(t,n){var e=dt(t,n);return t.runCancellable(k.BATCH_START,e).then((function(n){return n||t.updateState((function(t){t.currentBatch=e.id})),!n}))}(t,n[0]).then((function(e){return(l=!e)&&(!function(t,n){var e=dt(t,n),r=e.id;g.logger.debugLog("uploady.uploader.batchHelpers: cancelling batch: ",{batch:e}),t.updateState((function(t){at(t,r).state=g.BATCH_STATES.CANCELLED})),pt(t,r,k.BATCH_CANCEL),st(t,r),ft(t,r)}(t,n[0]),It(t)),l}))),e=d.then((function(e){e||At(t,n,It)}))}}return e},Rt=It,_t=function(t,n,e){return g.logger.debugLog("uploader.queue: aborting ".concat(n.state," item  - "),n),bt(t,[{id:n.id,info:{status:0,state:g.FILE_STATES.ABORTED,response:"aborted"}}],e),!0},yt=(o={},K()(o,g.FILE_STATES.UPLOADING,(function(t,n){return g.logger.debugLog("uploader.queue: aborting uploading item  - ",n),t.getState().aborts[n.id]()})),K()(o,g.FILE_STATES.ADDED,_t),K()(o,g.FILE_STATES.PENDING,_t),o),Ct=function(t,n,e){var r=t.getState().items[n],o=null==r?void 0:r.state;return!!yt[o]&&yt[o](t,r,e)},Pt=function(t,n,e,r,o){var u=function(t){var n={set:function(t,r,o){return H(e)&&(t[r]=M(o,n)),!0},get:function(t,n){return n===_?G(t):t[n]},defineProperty:function(){throw new Error("Simple State doesnt support defining property")},setPrototypeOf:function(){throw new Error("Simple State doesnt support setting prototype")},deleteProperty:function(t,n){return H(e)&&delete t[n],!0}};Object(g.isProduction)()||N(t)||A()(t,y,{value:{isUpdateable:!1},configurable:!0});var e=Object(g.isProduction)()?t:M(t,n);return{state:e,update:function(t){if(!Object(g.isProduction)()&&H(e))throw new Error("Can't call update on State already being updated!");try{x(e,!0),t(e)}finally{x(e,!1)}return e},unwrap:function(t){return t?G(t):N(e)?G(e):e}}}({itemQueue:[],currentBatch:null,batches:{},items:{},activeIds:[],aborts:{}}),i=u.state,a=u.update,c=function(){return i},l=function(t){a(t)},s=function(t){if(i.items[t.id]&&!t.recycled)throw new Error("Uploader queue conflict - item ".concat(t.id," already exists"));t.recycled&&function(t,n){var e=n.previousBatch;if(n.recycled&&e&&t.getState().batches[e]){var r=dt(t,n.id).id;r===e&&t.updateState((function(t){var e,o,u=at(t,r),i=tt()(e=u.items).call(e,(function(t){return t.id===n.id}));~i&&Y()(o=u.items).call(o,i,1)}))}}(p,t),l((function(n){n.items[t.id]=t,n.itemQueue.push(t.id)}))},f=function(t,e,r){i.items[t.id]&&(l((function(n){var o=n.items[t.id];o.loaded=r,o.completed=e})),n(k.ITEM_PROGRESS,c().items[t.id]))};r.on(X.ITEM_PROGRESS,f),r.on(X.BATCH_PROGRESS,(function(t){var e,r=null===(e=i.batches[t.id])||void 0===e?void 0:e.batch.items;if(r){var o=E()(r).call(r,(function(t,n){return t[0]+=n.completed,t[1]+=n.loaded,t}),[0,0]),u=b()(o,2),a=u[0],c=u[1];l((function(n){var e=n.batches[t.id].batch;e.completed=a/r.length,e.loaded=c})),n(k.BATCH_PROGRESS,i.batches[t.id].batch)}}));var p={uploaderId:o,getOptions:function(){return t},getCurrentActiveCount:function(){return i.activeIds.length},getState:c,updateState:l,trigger:n,runCancellable:function(t){var n;if(!Object(g.isFunction)(e))throw new Error("cancellable is of wrong type");for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return e.apply(void 0,d()(n=[t]).call(n,o))},sender:r,handleItemProgress:f};return Object(g.hasWindow)()&&g.logger.isDebugOn()&&(window["__rpldy_".concat(o,"_queue_state")]=p),{updateState:l,getState:p.getState,runCancellable:p.runCancellable,uploadBatch:function(t,n){n&&l((function(e){e.batches[t.id].batchOptions=n})),Rt(p)},addBatch:function(t,n){var e;return l((function(e){e.batches[t.id]={batch:t,batchOptions:n,finishedCounter:0}})),m()(e=t.items).call(e,s),at(i,t.id)},abortItem:function(t){return function(t,n,e){return Ct(t,n,e)}(p,t,Rt)},abortBatch:function(t){!function(t,n,e){var r,o=t.getState().batches[n],u=null==o?void 0:o.batch;u&&!vt(u)&&(t.updateState((function(t){at(t,n).state=g.BATCH_STATES.ABORTED})),pt(t,n,k.BATCH_ABORT),m()(r=u.items).call(r,(function(n){return Ct(t,n.id,e)})))}(p,t,Rt)},abortAll:function(){var t,n,e,r;n=Rt,r=(t=p).getState().items,m()(e=L()(r)).call(e,(function(e){return Ct(t,e,n)})),t.trigger(k.ALL_ABORT)},clearPendingBatches:function(){var t,n,e,r;r=(t=p).getState().batches,m()(n=Z()(e=L()(r)).call(e,(function(t){return r[t].batch.state===g.BATCH_STATES.PENDING}))).call(n,(function(n){st(t,n),ft(t,n)}))},uploadPendingBatches:function(t){!function(t,n){t.updateState((function(t){var e;m()(e=L()(t.batches)).call(e,(function(e){var r,o=t.batches[e],u=o.batch,i=o.batchOptions;u.state===g.BATCH_STATES.PENDING&&(m()(r=u.items).call(r,(function(t){t.state=g.FILE_STATES.ADDED})),u.state=g.BATCH_STATES.ADDED,o.batchOptions=Object(g.merge)({},i,n))}))}))}(p,t),Rt(p)}}},Dt=e("GjXi"),wt=function(){return!0},Bt=Object(g.devFreeze)({autoUpload:!0,clearPendingOnAdd:!1,inputFieldName:"file",concurrent:!1,maxConcurrent:2,grouped:!1,maxGroupSize:5,method:"POST",params:{},fileFilter:wt,forceJsonResponse:!1,withCredentials:!1,destination:{},send:null,sendWithFormData:!0}),Ut=function(t,n,e,r){!function(t,n,e,r){m()(t).call(t,(function(t){var o,u;g.logger.debugLog(d()(o=d()(u="uploady.uploader.processor: file: ".concat(t.id," progress event: loaded(")).call(u,e,") - completed(")).call(o,n,")")),r(X.ITEM_PROGRESS,t,n,e)}))}(t,Math.min(e.loaded/e.total*100,100)/t.length,e.loaded/t.length,r),r(X.BATCH_PROGRESS,n)},Nt=function(){var t=Object(p.default)({send:function(t,e,r){var o=r.destination,u=null==o?void 0:o.url,i=Object(g.throttle)((function(r){return Ut(t,e,r,n)}),50,!0);return(Object(g.isFunction)(r.send)?r.send:Dt.default)(t,u,{method:(null==o?void 0:o.method)||r.method||Bt.method,paramName:(null==o?void 0:o.filesParamName)||r.inputFieldName||"file",params:ot()(ot()({},r.params),null==o?void 0:o.params),forceJsonResponse:r.forceJsonResponse,withCredentials:r.withCredentials,formatGroupParamName:r.formatGroupParamName,headers:null==o?void 0:o.headers,sendWithFormData:r.sendWithFormData,formatServerResponse:r.formatServerResponse},i)}},f()(X)),n=t.trigger;return t.target},Ft=Object(g.hasWindow)()&&"FileList"in window,jt=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=t;if(!Object(g.isProduction)())if(n<3&&N(t))e=G(t);else if(n<3&&F(t)){var r,o;e=P()(t)?i()(r=L()(t)).call(r,(function(n){return jt(t[n])})):E()(o=L()(t)).call(o,(function(e,r){return e[r]=jt(t[r],n+1),e}),{})}return e},Ht=0,xt=function(t,n,e){var r="batch-".concat(Ht+=1),o=function(t){return Ft&&t instanceof FileList||"[object FileList]"===t.toString()}(t);t=P()(t)||o?t:[t];var u=!e.autoUpload,a=function(t,n,e,r){var o;return i()(o=Z()(Array.prototype).call(n,r||wt)).call(o,(function(n){return Object(g.createBatchItem)(n,t,e)}))}(r,t,u,e.fileFilter);return{id:r,uploaderId:n,items:a,state:u?g.BATCH_STATES.PENDING:g.BATCH_STATES.ADDED,completed:0,loaded:0,orgItemCount:a.length}},Mt=f()(k),Gt=0,kt=function(t){var n="uploader-".concat(Gt+=1),e=!1,r={};g.logger.debugLog("uploady.uploader: creating new instance (".concat(n,")"),{options:t,counter:Gt});var o=function(t){return ot()(ot()(ot()({},Bt),t),{},{destination:t&&t.destination?(n=t.destination,ot()({params:{}},n)):null});var n}(t),u=function(){h.clearPendingBatches()},a=Object(p.default)({id:n,update:function(t){return o=Object(g.merge)({},o,t),s},add:function(t,n){var e=Object(g.merge)({},o,n);e.clearPendingOnAdd&&u();var r,i=h.addNewBatch(t,s.id,e);return i.items.length?r=h.runCancellable(k.BATCH_ADD,i,e).then((function(t){var n;t?(i.state=g.BATCH_STATES.CANCELLED,f(k.BATCH_CANCEL,i)):(g.logger.debugLog(d()(n="uploady.uploader [".concat(s.id,"]: new items added - auto upload =\n                        ")).call(n,String(e.autoUpload)),i.items),e.autoUpload&&h.process(i))})):g.logger.debugLog("uploady.uploader: no items to add. batch ".concat(i.id," is empty. check fileFilter if this isn't intended")),r||c.a.resolve()},upload:function(t){h.processPendingBatches(t)},abort:function(t){h.abort(t)},abortBatch:function(t){h.abortBatch(t)},getOptions:function(){return Object(g.clone)(o)},clearPending:u,registerExtension:function(t,n){Object(g.invariant)(e,"Uploady - uploader extensions can only be registered by enhancers"),Object(g.invariant)(!r[t],"Uploady - uploader extension by this name [%s] already exists",t),g.logger.debugLog("uploady.uploader: registering extension: ".concat(t.toString()),n),r[t]=n},getExtension:function(t){return r[t]}},Mt,{canAddEvents:!1,canRemoveEvents:!1}),l=a.trigger,s=a.target,f=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var o=Object(p.createLifePack)((function(){return i()(e).call(e,jt)}));return l(t,o)},v=Object(g.triggerCancellable)(f);if(o.enhancer){e=!0;var E=o.enhancer(s,f);e=!1,s=E||s}var h=function(t,n,e,r){var o=Nt(),u=Pt(e,t,n,o,r);return{process:function(t,n){u.uploadBatch(t,n)},abortBatch:function(t){u.abortBatch(t)},abort:function(t){t?u.abortItem(t):u.abortAll()},addNewBatch:function(t,n,e){var r=xt(t,n,e);return u.addBatch(r,e)},runCancellable:u.runCancellable,clearPendingBatches:function(){u.clearPendingBatches()},processPendingBatches:function(t){u.uploadPendingBatches(t)}}}(f,v,o,s.id);return Object(g.devFreeze)(s)},Xt=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return E()(n).call(n,(function(t,n){var e;return n.apply(void 0,d()(e=[t]).call(e,r))||t}),t)}};n.default=kt},VPmE:function(t,n,e){"use strict";e.d(n,"e",(function(){return o.a})),e.d(n,"h",(function(){return s})),e.d(n,"b",(function(){return v})),e.d(n,"i",(function(){return w})),e.d(n,"c",(function(){return D})),e.d(n,"a",(function(){return B})),e.d(n,"j",(function(){return H})),e.d(n,"f",(function(){return y})),e.d(n,"d",(function(){return x.a})),e.d(n,"g",(function(){return g.a}));var r=e("r5yn"),o=e.n(r),u=e("/FZm"),i=e.n(u),a=e("FLGM"),c=e.n(a),l=e("o+MX"),d=e.n(l),s=function(t,n,e){var r=!0,o=function(t){var n,e=d()(n=[]).call(n,t);return function(t){return c()(t).call(t,(function(t){return c()(e).call(e,(function(n){return t[n]})).join()}))}}(e);if(t&&n&&t.length===n.length){var u=o(t),a=o(n);r=!!i()(u).call(u,(function(t,n){return t!==a[n]}))}return!r},f=e("9yv6"),p=e.n(f),g=e("DVTP"),v=function(t){return Object(g.a)()?t:p()(t)},E=e("RXMP"),h=e.n(E),b=e("OWCx"),S=e.n(b),m=e("+oHS"),T=e.n(m),A=e("6UaR"),O=e.n(A),L=e("zKQ6"),I=e.n(L),R=e("nhkr"),_=e.n(R),y=function(t){var n;return!!t&&"object"===_()(t)&&("Object"===(null===(n=I()(t))||void 0===n?void 0:n.constructor.name)||null===I()(t))},C=function(t){return y(t)||O()(t)},P=function(t,n){var e=T()(t);return n.withSymbols?d()(e).call(e,S()(t)):e},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return e&&o.length&&h()(o).call(o,(function(r){var o;r&&h()(o=P(r,t)).call(o,(function(o){var u=r[o];t.predicate&&!t.predicate(o,u)||(void 0!==u||t.undefinedOverwrites)&&(C(u)?(void 0!==e[o]&&y(e[o])||(e[o]=O()(u)?[]:{}),n(e[o],u)):e[o]=u)}))})),e};return n},w=D(),B=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return C(t)?n(O()(t)?[]:{},t):t},U=e("ZbhI"),N=e.n(U),F=e("KYsz"),j=e.n(F),H=function(t,n){var e;return t&&j()(e=T()(t)).call(e,(function(e,r){return~N()(n).call(n,r)&&(e[r]=t[r]),e}),{})},x=e("n5N2")},Xsbf:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return dt})),e.d(n,"addLife",(function(){return dt})),e.d(n,"isLE",(function(){return $})),e.d(n,"createLifePack",(function(){return vt}));var r=e("04Ix"),o=e.n(r),u=e("RSWj"),i=e.n(u),a=e("HnXd"),c=e.n(a),l=e("M5Mt"),d=e.n(l),s=e("OBge"),f=e.n(s),p=e("Vi3r"),g=e.n(p),v=e("FLGM"),E=e.n(v),h=e("5PDf"),b=e.n(h),S=e("kT1S"),m=e.n(S),T=e("eLKs"),A=e.n(T),O=e("+oHS"),L=e.n(O),I=e("zLi2"),R=e.n(I),_=e("i5y0"),y=e.n(_),C=e("KYsz"),P=e.n(C),D=e("STz3"),w=e.n(D),B=e("cdeZ"),U=e.n(B),N=e("UtpJ"),F=e.n(N),j=e("/FZm"),H=e.n(j),x=e("ZbhI"),M=e.n(x),G=e("JlUD"),k=e.n(G),X=e("mHo/"),q=Object(X.devFreeze)({allowRegisterNonExistent:!0,canAddEvents:!0,canRemoveEvents:!0,collectStats:!1}),V=function(t,n){if(!Object(X.isFunction)(t))throw new Error("'".concat(n,"' is not a valid function"))},z=function(t){return void 0===t},W=e("CtDf"),Z=e.n(W),Q=Z()("__le__"),Y=Z()("__le__pack__"),J=function(t){return t?t[Q]:null},K=function(t){var n=J(t);if(!n)throw new Error("Didnt find LE internal object. Something very bad happened!");return n},$=function(t){return!!J(t)},tt=function(t,n,e){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];V(e,"cb");var u=K(t);if(!u.options.allowRegisterNonExistent&&!~M()(r=u.events).call(r,n))throw new Error("Cannot register for event ".concat(n.toString()," that wasn't already defined (allowRegisterNonExistent = false)"));var i=u.registry[n]||[];return H()(i).call(i,(function(t){return t.cb===e}))||(i.push({name:n,cb:e,once:o}),u.registry[n]=i),function(){return ct.call(t,n,e)}},nt=function(t,n){var e,r,o=K(t).registry;return n?o[n]?F()(e=o[n]).call(e):[]:U()(r=w()(o)).call(r)},et={on:function(t,n){return tt(this,t,n)},once:function(t,n){return tt(this,t,n,!0)},off:ct,getEvents:function(){var t;return F()(t=K(this).events).call(t)}},rt=function(){var t;return P()(t=y()(et)).call(t,(function(t,n){var e=R()(n,2),r=e[0],o=e[1];return t[r]={value:o},t}),{})},ot={trigger:function(t){for(var n=this,e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var u,i=nt(this,t);if(i.length){var a,c,l,d;1===r.length&&!0===(null===(a=r[0])||void 0===a?void 0:a[Y])&&(d=r[0].resolve()),u=E()(c=b()(l=E()(i).call(i,(function(e){return e.once&&at(n,t,e.cb),d?e.cb.apply(e,g()(d)):r.length?1===r.length?e.cb(r[0]):2===r.length?e.cb(r[0],r[1]):3===r.length?e.cb(r[0],r[1],r[2]):e.cb.apply(e,r):e.cb()}))).call(l,(function(t){return!z(t)}))).call(c,(function(t){return k()(t)?t:f.a.resolve(t)}))}return u&&(u.length?u:void 0)},addEvent:function(t){var n=K(this);if(!n.options.canAddEvents)throw new Error("Cannot add new events (canAddEvents = false)");var e;if(~M()(e=n.events).call(e,t))throw new Error("Event '".concat(t,"' already defined"));n.events.push(t)},removeEvent:function(t){var n=K(this);if(!n.options.canRemoveEvents)throw new Error("Cannot remove events (canRemoveEvents = false)");var e,r,o=M()(e=n.events).call(e,t);d()(r=n.events).call(r,o,1)},hasEvent:function(t){var n,e=K(this);return!!~M()(n=e.events).call(n,t)},hasEventRegistrations:function(t){return!!nt(this,t).length},assign:function(t){var n=K(this);return lt(t,n.options,n.events,n.registry,n.stats),ut(t)}},ut=function(t){var n;return P()(n=L()(ot)).call(n,(function(n,e){var r;return n[e]=A()(r=ot[e]).call(r,t),n}),m()({target:t},ot))},it=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=K(t).registry;!r[n]||!e&&r[n].length||delete r[n]},at=function(t,n,e){var r,o=K(t).registry;o[n]&&(e?(o[n]=b()(r=o[n]).call(r,(function(t){return t.cb!==e})),it(t,n)):it(t,n,!0))};function ct(t,n){at(this,t,n)}var lt=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};c()(t,m()(o()({},Q,{value:i()({registry:r,events:e,options:n,stats:u})}),rt()))},dt=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return t=t||{},e=m()(m()({},q),e),$(t)||lt(t,e,n),ut(t)},st=e("LYCE"),ft=e.n(st),pt=e("o+MX"),gt=e.n(pt),vt=function(t){var n={resolve:function(){var n;return gt()(n=[]).call(n,t())}};return ft()(n,Y,{value:!0,configurable:!1}),n}},cDcd:function(n,e){n.exports=t},faye:function(t,e){t.exports=n},h0aC:function(t,n,e){"use strict";e.r(n),e.d(n,"useBatchAddListener",(function(){return R})),e.d(n,"useBatchStartListener",(function(){return _})),e.d(n,"useBatchProgressListener",(function(){return D})),e.d(n,"useBatchFinishListener",(function(){return y})),e.d(n,"useBatchCancelledListener",(function(){return C})),e.d(n,"useBatchAbortListener",(function(){return P})),e.d(n,"useItemStartListener",(function(){return w})),e.d(n,"useItemFinishListener",(function(){return B})),e.d(n,"useItemProgressListener",(function(){return H})),e.d(n,"useItemCancelListener",(function(){return U})),e.d(n,"useItemErrorListener",(function(){return N})),e.d(n,"useItemAbortListener",(function(){return F})),e.d(n,"useItemFinalizeListener",(function(){return j})),e.d(n,"useRequestPreSend",(function(){return x})),e.d(n,"useAllAbortListener",(function(){return M})),e.d(n,"generateUploaderEventHook",(function(){return A})),e.d(n,"generateUploaderEventHookWithState",(function(){return T})),e.d(n,"logWarning",(function(){return O})),e.d(n,"markAsUploadOptionsComponent",(function(){return L})),e.d(n,"getIsUploadOptionsComponent",(function(){return I})),e.d(n,"assertContext",(function(){return b})),e.d(n,"useUploadOptions",(function(){return G})),e.d(n,"useAbortItem",(function(){return k})),e.d(n,"useAbortBatch",(function(){return X})),e.d(n,"useAbortAll",(function(){return q})),e.d(n,"NoDomUploady",(function(){return J})),e.d(n,"UploadyContext",(function(){return h})),e.d(n,"createContextApi",(function(){return E})),e.d(n,"withRequestPreSendUpdate",(function(){return ot})),e.d(n,"useUploadyContext",(function(){return S})),e.d(n,"useUploady",(function(){return S})),e.d(n,"getUploadyVersion",(function(){return v.c}));var r=e("kT1S"),o=e.n(r),u=e("SXZu"),i=e("o+MX"),a=e.n(i),c=e("zLi2"),l=e.n(c),d=e("cDcd"),s=e.n(d),f=e("mHo/"),p=e("CtDf"),g=e.n(p)()("rpldy_component"),v=e("Lrr1"),E=function(t,n){var e,r;n?e=n:f.logger.debugLog("Uploady context - didn't receive input field ref - waiting for external ref");var o=function(){var t;return null===(t=e)||void 0===t?void 0:t.current},u=function(){var t=o();Object(f.invariant)(t,"Uploady - Context. File input isn't available"),t.removeEventListener("change",u);var n=r;r=null,i(t.files,n)},i=function(n,e){t.add(n,e)};return Object(v.d)(),{hasUploader:function(){return!!t},setExternalFileInput:function(t){e=t},showFileUpload:function(t){var n=o();Object(f.invariant)(n,"Uploady - Context. File input isn't available"),r=t,n.removeEventListener("change",u),n.addEventListener("change",u),n.value="",n.click()},upload:i,processPending:function(n){t.upload(n)},clearPending:function(){t.clearPending()},setOptions:function(n){t.update(n)},getOptions:function(){return t.getOptions()},getExtension:function(n){return t.getExtension(n)},abort:function(n){t.abort(n)},abortBatch:function(n){t.abortBatch(n)},on:function(n,e){return t.on(n,e)},once:function(n,e){return t.once(n,e)},off:function(n,e){return t.off(n,e)}}},h=s.a.createContext(null),b=function(t){return Object(f.invariant)(!Object(v.a)(),"Uploady - Valid UploadyContext not found.\nYou may be using packages of different Uploady versions. <Uploady> and all other packages using the context provider must be of the same version: %s",Object(v.b)()),Object(f.invariant)(t&&t.hasUploader(),"Uploady - Valid UploadyContext not found. Make sure you render inside <Uploady>"),t},S=function(){return b(Object(d.useContext)(h))},m=function(t,n){var e=S(),r=e.on,o=e.off;Object(d.useEffect)((function(){return r(t,n),function(){o(t,n)}}),[t,n,r,o])},T=function(t,n){return function(e,r){var o=Object(d.useState)(null),u=l()(o,2),i=u[0],c=u[1],s=Object(d.useCallback)((function(t){if(!r||t.id===r){for(var o,u,i=arguments.length,l=new Array(i>1?i-1:0),d=1;d<i;d++)l[d-1]=arguments[d];if(c(n.apply(void 0,a()(o=[t]).call(o,l))),e)e.apply(void 0,a()(u=[t]).call(u,l))}}),[e,r]);return m(t,s),i}},A=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(e,r){var o=Object(d.useCallback)((function(t){for(var o,u=arguments.length,i=new Array(u>1?u-1:0),c=1;c<u;c++)i[c-1]=arguments[c];return!e||n&&r&&t.id!==r?void 0:e.apply(void 0,a()(o=[t]).call(o,i))}),[e,r]);m(t,o)}},O=function(t,n){Object(f.isProduction)()||t||console.warn(n)},L=function(t){t[g]=!0},I=function(t){var n,e;return!0===t[g]||!0===(null===(n=t.target)||void 0===n?void 0:n[g])||!0===(null===(e=t.render)||void 0===e?void 0:e[g])},R=A(u.UPLOADER_EVENTS.BATCH_ADD,!1),_=A(u.UPLOADER_EVENTS.BATCH_START),y=A(u.UPLOADER_EVENTS.BATCH_FINISH),C=A(u.UPLOADER_EVENTS.BATCH_CANCEL),P=A(u.UPLOADER_EVENTS.BATCH_ABORT),D=T(u.UPLOADER_EVENTS.BATCH_PROGRESS,(function(t){return o()({},t)})),w=A(u.UPLOADER_EVENTS.ITEM_START),B=A(u.UPLOADER_EVENTS.ITEM_FINISH),U=A(u.UPLOADER_EVENTS.ITEM_CANCEL),N=A(u.UPLOADER_EVENTS.ITEM_ERROR),F=A(u.UPLOADER_EVENTS.ITEM_ABORT),j=A(u.UPLOADER_EVENTS.ITEM_FINALIZE),H=T(u.UPLOADER_EVENTS.ITEM_PROGRESS,(function(t){return o()({},t)})),x=A(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,!1),M=A(u.UPLOADER_EVENTS.ALL_ABORT,!1),G=function(t){var n=S();return t&&n.setOptions(t),n.getOptions()},k=function(){var t=S();return Object(d.useCallback)((function(n){return t.abort(n)}),[t])},X=function(){var t=S();return Object(d.useCallback)((function(n){return t.abortBatch(n)}),[t])},q=function(){var t=S();return Object(d.useCallback)((function(){return t.abort()}),[t])},V=e("tpxy"),z=e.n(V),W=e("i5y0"),Z=e.n(W),Q=e("RXMP"),Y=e.n(Q),J=function(t){var n=t.listeners,e=t.debug,r=t.children,o=t.inputRef,i=z()(t,["listeners","debug","children","inputRef"]);f.logger.setDebug(!!e),f.logger.debugLog("@@@@@@ Uploady Rendering @@@@@@",t);var a=function(t,n){var e=Object(d.useMemo)((function(){return f.logger.debugLog("Uploady creating a new uploader instance",t),Object(u.default)(t)}),[t.enhancer]);return e.update(t),Object(d.useEffect)((function(){var t;n&&(f.logger.debugLog("Uploady setting event listeners",n),Y()(t=Z()(n)).call(t,(function(t){var n=l()(t,2),r=n[0],o=n[1];e.on(r,o)})));return function(){var t;n&&(f.logger.debugLog("Uploady removing event listeners",n),Y()(t=Z()(n)).call(t,(function(t){var n=l()(t,2),r=n[0],o=n[1];return e.off(r,o)})))}}),[n,e]),e}(i,n),c=Object(d.useMemo)((function(){return E(a,o)}),[a,o]);return s.a.createElement(h.Provider,{value:c},r)},K=e("EcSs"),$=e.n(K),tt=e("OBge"),nt=e.n(tt),et=e("/FZm"),rt=e.n(et),ot=function(t){return function(n){var e=S(),r=n.id,o=Object(d.useState)({update:null,data:null}),i=l()(o,2),a=i[0],c=i[1];return Object(d.useLayoutEffect)((function(){var t=function(n){var o;return rt()(o=n.items).call(o,(function(t){return t.id===r}))&&new nt.a((function(r){c((function(){return{update:function(n){e.off(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,t),r(n)},data:n}}))}))};return r&&e.on(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,t),function(){r&&e.off(u.UPLOADER_EVENTS.REQUEST_PRE_SEND,t)}}),[e,r]),s.a.createElement(t,$()({},n,{updateRequest:a.update,requestData:a.data}))}}},lFlW:function(t,n,e){"use strict";e.r(n),e.d(n,"useFileInput",(function(){return O})),e.d(n,"Uploady",(function(){return v})),e.d(n,"UPLOADER_EVENTS",(function(){return L.UPLOADER_EVENTS})),e.d(n,"DEFAULT_OPTIONS",(function(){return L.DEFAULT_OPTIONS})),e.d(n,"composeEnhancers",(function(){return L.composeEnhancers})),e.d(n,"createUploader",(function(){return L.createUploader})),e.d(n,"send",(function(){return L.send})),e.d(n,"getXhrSend",(function(){return L.getXhrSend})),e.d(n,"XHR_SENDER_TYPE",(function(){return L.XHR_SENDER_TYPE})),e.d(n,"MissingUrlError",(function(){return L.MissingUrlError})),e.d(n,"useBatchAddListener",(function(){return f.useBatchAddListener})),e.d(n,"useBatchStartListener",(function(){return f.useBatchStartListener})),e.d(n,"useBatchProgressListener",(function(){return f.useBatchProgressListener})),e.d(n,"useBatchFinishListener",(function(){return f.useBatchFinishListener})),e.d(n,"useBatchCancelledListener",(function(){return f.useBatchCancelledListener})),e.d(n,"useBatchAbortListener",(function(){return f.useBatchAbortListener})),e.d(n,"useItemStartListener",(function(){return f.useItemStartListener})),e.d(n,"useItemFinishListener",(function(){return f.useItemFinishListener})),e.d(n,"useItemProgressListener",(function(){return f.useItemProgressListener})),e.d(n,"useItemCancelListener",(function(){return f.useItemCancelListener})),e.d(n,"useItemErrorListener",(function(){return f.useItemErrorListener})),e.d(n,"useItemAbortListener",(function(){return f.useItemAbortListener})),e.d(n,"useItemFinalizeListener",(function(){return f.useItemFinalizeListener})),e.d(n,"useRequestPreSend",(function(){return f.useRequestPreSend})),e.d(n,"useAllAbortListener",(function(){return f.useAllAbortListener})),e.d(n,"generateUploaderEventHook",(function(){return f.generateUploaderEventHook})),e.d(n,"generateUploaderEventHookWithState",(function(){return f.generateUploaderEventHookWithState})),e.d(n,"logWarning",(function(){return f.logWarning})),e.d(n,"markAsUploadOptionsComponent",(function(){return f.markAsUploadOptionsComponent})),e.d(n,"getIsUploadOptionsComponent",(function(){return f.getIsUploadOptionsComponent})),e.d(n,"assertContext",(function(){return f.assertContext})),e.d(n,"useUploadOptions",(function(){return f.useUploadOptions})),e.d(n,"useAbortItem",(function(){return f.useAbortItem})),e.d(n,"useAbortBatch",(function(){return f.useAbortBatch})),e.d(n,"useAbortAll",(function(){return f.useAbortAll})),e.d(n,"NoDomUploady",(function(){return f.NoDomUploady})),e.d(n,"UploadyContext",(function(){return f.UploadyContext})),e.d(n,"createContextApi",(function(){return f.createContextApi})),e.d(n,"withRequestPreSendUpdate",(function(){return f.withRequestPreSendUpdate})),e.d(n,"useUploadyContext",(function(){return f.useUploadyContext})),e.d(n,"useUploady",(function(){return f.useUploady})),e.d(n,"getUploadyVersion",(function(){return f.getUploadyVersion})),e.d(n,"FILE_STATES",(function(){return s.FILE_STATES})),e.d(n,"BATCH_STATES",(function(){return s.BATCH_STATES}));var r=e("tpxy"),o=e.n(r),u=e("EcSs"),i=e.n(u),a=e("cDcd"),c=e.n(a),l=e("faye"),d=e.n(l),s=e("mHo/"),f=e("h0aC"),p=function(t,n,e){return c.a.createElement("input",i()({},t,{name:n.inputFieldName,type:"file",ref:e}))},g=Object(a.memo)(Object(a.forwardRef)((function(t,n){var e=t.container,r=t.noPortal,u=o()(t,["container","noPortal"]),i=Object(f.useUploadOptions)(),a=e&&1===e.nodeType;return Object(s.invariant)(a||!Object(s.hasWindow)(),"Uploady - Container for file input must be a valid dom element"),r?p(u,i,n):function(t,n,e,r,o){return t&&n?d.a.createPortal(p(e,r,o),t):null}(e,a,u,i,n)}))),v=function(t){var n=t.multiple,e=void 0===n||n,r=t.capture,u=t.accept,l=t.webkitdirectory,d=t.children,p=t.inputFieldContainer,v=t.customInput,E=t.fileInputId,h=t.noPortal,b=void 0!==h&&h,S=o()(t,["multiple","capture","accept","webkitdirectory","children","inputFieldContainer","customInput","fileInputId","noPortal"]),m=v?null:p||(Object(s.hasWindow)()?document.body:null),T=Object(a.useRef)();return c.a.createElement(f.NoDomUploady,i()({},S,{inputRef:T}),v?null:c.a.createElement(g,{container:m,multiple:e,capture:r,accept:u,webkitdirectory:l,style:{display:"none"},ref:T,id:E,noPortal:b}),d)},E=e("UtpJ"),h=e.n(E),b=e("o+MX"),S=e.n(b),m=e("pPxq"),T=e.n(m),A=function(t){var n=t.closest("form"),e={filesParamName:t.getAttribute("name"),method:void 0,url:void 0};if(n){var r,o=n.getAttribute("method"),u=function(t){var n,e,r,o,u,i,a,c,l=window.location,d=t.getAttribute("action")||"";switch(d=d.replace(/\s/g,""),!0){case""===d:d=l.href;break;case T()(d).call(d,"/"):d=S()(n=S()(e="".concat(l.protocol,"//")).call(e,l.host)).call(n,d);break;case!/:\/\//.test(d):c=S()(r=h()(o=l.pathname.split("/")).call(o,0,-1)).call(r,"").join("/"),d=S()(u=S()(i=S()(a="".concat(l.protocol,"//")).call(a,l.host)).call(i,c)).call(u,d)}return d}(n);e.method=o?o.toUpperCase():void 0,e.url=u,s.logger.debugLog(S()(r="Uploady.useFileInput: using custom input's parent form url ".concat(e.url," and method ")).call(r,e.method||""))}return e},O=function(t){var n=Object(f.useUploadyContext)();n.setExternalFileInput(t),Object(a.useEffect)((function(){if(t.current&&t.current.closest){var e=t.current,r=n.getOptions();if(!r.destination||!r.destination.url){var o=A(e);n.setOptions({destination:o})}}}),[t,n])},L=e("SXZu");n.default=v},"mHo/":function(t,n,e){"use strict";e.r(n),e.d(n,"BATCH_STATES",(function(){return a.a})),e.d(n,"FILE_STATES",(function(){return a.c})),e.d(n,"invariant",(function(){return o.a})),e.d(n,"throttle",(function(){return i.a})),e.d(n,"logger",(function(){return c})),e.d(n,"triggerCancellable",(function(){return v})),e.d(n,"triggerUpdater",(function(){return h})),e.d(n,"createBatchItem",(function(){return y})),e.d(n,"request",(function(){return k})),e.d(n,"parseResponseHeaders",(function(){return G})),e.d(n,"isFunction",(function(){return X.e})),e.d(n,"isPlainObject",(function(){return X.f})),e.d(n,"isSamePropInArrays",(function(){return X.h})),e.d(n,"devFreeze",(function(){return X.b})),e.d(n,"merge",(function(){return X.i})),e.d(n,"getMerge",(function(){return X.c})),e.d(n,"clone",(function(){return X.a})),e.d(n,"pick",(function(){return X.j})),e.d(n,"hasWindow",(function(){return X.d})),e.d(n,"isProduction",(function(){return X.g}));var r=e("kvau"),o=e.n(r),u=e("uDTZ"),i=e.n(u),a=e("10TY"),c=e("ytft"),l=e("TEMH"),d=e.n(l),s=e("o+MX"),f=e.n(s),p=e("OBge"),g=e.n(p),v=function(t,n){for(var e,r=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return new g.a((function(e,o){var u,i=t.apply(void 0,f()(u=[n]).call(u,r));i&&i.length?g.a.all(i).catch(o).then((function(t){return t&&e(!!~d()(t).call(t,(function(t){return!1===t})))})):e(!1)}))},o=arguments.length,u=new Array(o>2?o-2:0),i=2;i<o;i++)u[i-2]=arguments[i];return n?r.apply(void 0,f()(e=[n]).call(e,u)):r},E=function(t){return null==t},h=function(t,n){for(var e,r=function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return new g.a((function(e,o){var u,i=t.apply(void 0,f()(u=[n]).call(u,r));i&&i.length?g.a.all(i).catch(o).then((function(t){var n;if(t)for(;E(n)&&t.length;)n=t.pop();e(E(n)?void 0:n)})):e()}))},o=arguments.length,u=new Array(o>2?o-2:0),i=2;i<o;i++)u[i-2]=arguments[i];return n?r.apply(void 0,f()(e=[n]).call(e,u)):r},b=e("LYCE"),S=e.n(b),m=e("nhkr"),T=e.n(m),A=e("CtDf"),O=e.n(A)()("__rpldy-bi__"),L=0,I=function(t,n){return t.url=n,t},R=function(t,n){return t.file=n,t},_=function(t){return t&&(t instanceof Blob||t instanceof File||"object"===T()(t)&&t.name&&t.type)},y=function(t,n){var e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];L+=t.id&&t.batchId?0:1;var o=t.id&&t.batchId?t.id:f()(e="".concat(n,".item-")).call(e,L),u=r?a.c.PENDING:a.c.ADDED,i={id:o,batchId:n,state:u,uploadStatus:0,completed:0,loaded:0,aborted:!1,recycled:!1,previousBatch:null};if(S()(i,O,{value:!0,writable:!0}),"object"===T()(t)&&!0===t[O]&&(i.recycled=!0,i.previousBatch=t.batchId,t=t.file||t.url),"string"==typeof t)i=I(i,t);else{if(!_(t))throw new Error("Unknown type of file added: ".concat(T()(t)));i=R(i,t)}return i},C=e("+oHS"),P=e.n(C),D=e("RXMP"),w=e.n(D),B=function(t,n){var e;n&&w()(e=P()(n)).call(e,(function(e){void 0!==n[e]&&t.setRequestHeader(e,n[e])}))},U=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new XMLHttpRequest,o=new g.a((function(o,u){r.onerror=function(){return u(r)},r.ontimeout=function(){return u(r)},r.onabort=function(){return u(r)},r.onload=function(){return o(r)},r.open(e.method||"GET",t),B(r,e.headers),r.withCredentials=!!e.withCredentials,e.preSend&&e.preSend(r),r.send(n)}));return o.xhr=r,o},N=e("zLi2"),F=e.n(N),j=e("RKTd"),H=e.n(j),x=e("KYsz"),M=e.n(x),G=function(t){var n;try{var e,r;n=M()(e=H()(r=t.getAllResponseHeaders()).call(r).split(/[\r\n]+/)).call(e,(function(t,n){var e=n.split(": "),r=F()(e,2),o=r[0],u=r[1];return t[o]=u,t}),{})}catch(n){Object(c.debugLog)("uploady.request: failed to read response headers",t)}return n},k=U,X=e("VPmE")},n5N2:function(t,n,e){"use strict";var r=e("nhkr"),o=e.n(r);n.a=function(){return"object"===("undefined"==typeof window?"undefined":o()(window))&&!!window.document}},r5yn:function(t,n){t.exports=function(t){return"function"==typeof t}},ytft:function(t,n,e){"use strict";e.r(n),function(t){e.d(n,"isDebugOn",(function(){return l})),e.d(n,"setDebug",(function(){return d})),e.d(n,"debugLog",(function(){return s}));var r,o=e("ZbhI"),u=e.n(o),i=e("10TY"),a=e("n5N2"),c=e("VPmE"),l=function(){var n,e,o;"boolean"!=typeof r&&(r=!Object(c.g)()&&(null===(e=t)||void 0===e||null===(o=e.env)||void 0===o?void 0:o.DEBUG)||Object(a.a)()&&("location"in window&&!!~u()(n=window.location.search).call(n,"rpldy_debug=true")||!0===window[i.b]));return r},d=function(t){Object(a.a)()&&(window[i.b]=t),r=!!t||null},s=function(){var t;l()&&(t=console).log.apply(t,arguments)}}.call(this,e("8oxB"))}})}));
//# sourceMappingURL=rpldy-ui-core.umd.min.js.map